!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3048a976-4817-47ac-91c9-abc853555be7",e._sentryDebugIdIdentifier="sentry-dbid-3048a976-4817-47ac-91c9-abc853555be7")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"cbe5ac61"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3086],{53086:function(e,t,r){r.d(t,{Z:function(){return eF},V:function(){return eB}});var n,o,i,a=r(84750),s=r(5093),c=r(82271),l=r(96583),u=r(3796),d=r(24621),p=r(25722),h=r(42392),f=r(94213),m=r(32586),g=r(79736),v=r(43786),y=r(38228),b=function(e){if(e.isLoggedIn){var t;(0,y.yV)((0,m._)((0,f._)({id:e.id.toString(),email:e.email,roles:e.roles,verified:e.isVerified,emailPreference:e.emailNotifications,createdAt:e.timeCreated},!!e.loginMethod&&{loginMethod:e.loginMethod}),{signupMethod:null!==(t=e.signupMethod)&&void 0!==t?t:v.OU}))}};function w(){return(w=(0,a._)(function(e){var t,r,n,o,i,a,s,c,u,d;return(0,l.Jh)(this,function(l){switch(l.label){case 0:t=e.username,r=e.password,n=e.teacher,o=e.hCaptchaResponse,i=e.hCaptchaSiteKey,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,(0,g.uz)("/login",(0,m._)((0,f._)({username:t,password:r},n?{teacher:n}:{}),{hCaptchaResponse:o,hCaptchaSiteKey:i}))];case 2:return a=l.sent(),[3,4];case 3:return(null===(u=(d=s=l.sent()).extras)||void 0===u?void 0:null===(c=u.responseData)||void 0===c?void 0:c.status)===401&&(s.status=d.extras.responseData.status),[2,{isLoggedIn:!1,error:s}];case 4:return b(a),[2,a]}})})).apply(this,arguments)}var Z=r(48737),C=r(7258),_=r.n(C);function S(e){var t=e.redirectUrl,r=_().get("shouldUseMobileAppAuthComplete");return"string"!=typeof r||r.length<1?t:"/authComplete?redirectUrl=".concat(encodeURI(t))}var k=r(49311),E=r(66885),T=r(23736),I=r(34596),P=r(98453),R=r(9441),x=r(22915),U=r(12896),L=r(7017),A=r(44584),G=r(2487),D=r(99533),M=r(75271);r(14224);var W=(0,U.X)({form:[G.l0.colWithGap(8),G.l0.width("100%")],buttonWrapper:[G.l0.colWithGap(24)],input:[G.l0.borderRadius(4)],secondaryAction:[G.l0.width("100%"),G.l0.textAlign.center,G.cv.typography.caption.medium,G.l0.color.brandAccentStrongest,{":hover":{color:G.TV.brandAccentStronger,backgroundColor:"transparent"}}],passwordWrapper:[G.l0.position.relative],togglePasswordVisibilityButton:[G.l0.position.absolute,G.l0.minWidth(55),G.l0.right(G.TV.space4),G.l0.top("50%"),{transform:"translate(0, -50%)"}]});function B(e){var t,r,n,o=e.onSubmit,i=e.trackSource,c=(0,s._)((0,M.useState)(!1),2),d=c[0],f=c[1],m=(0,s._)((0,M.useState)(!1),2),g=m[0],v=m[1],b=(0,s._)((0,M.useState)(""),2),C=b[0],_=b[1],U=(0,s._)((0,M.useState)(""),2),G=U[0],B=U[1],F=(0,D.useRouter)(),H=(t=(0,a._)(function(e){return(0,l.Jh)(this,function(t){switch(t.label){case 0:if(e.preventDefault(),d)return[2];return f(!0),[4,X({emailOrUsername:C,password:G})];case 1:if(!t.sent().fallthrough)return[3,3];return[4,V()];case 2:t.sent(),t.label=3;case 3:return[2]}})}),function(e){return t.apply(this,arguments)}),X=(r=(0,a._)(function(e){var t,r,n,a,s,c,u;return(0,l.Jh)(this,function(l){switch(l.label){case 0:t=e.emailOrUsername,r=e.password,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,(0,k.Uj)({action:"signInWithPassword"})];case 2:return n=l.sent(),[3,4];case 3:return l.sent(),[2,{fallthrough:!0}];case 4:return[4,(0,Z.yP)({emailOrUsername:t,rawPassword:r,clientType:"CLIENT_TYPE_WEB",recaptchaToken:n})];case 5:if("error"===(a=l.sent()).type)return v(!1),f(!1),o({error:a.message}),[2,{fallthrough:!1}];return[4,(0,k.Np)({response:a.session})];case 6:if("error"===(s=l.sent()).type)return v(!1),f(!1),o({error:s.message}),[2,{fallthrough:!1}];return[4,(0,Z.d8)(s.user,{source:i})];case 7:return"success"===(c=l.sent()).type?(f(!1),v(!0),u=c.redirectUrl?S({redirectUrl:c.redirectUrl}):void 0,o({user:{id:c.userId,postLoginRedirectUrl:u},isLogin:!0})):(v(!1),f(!1),o({error:c.message,reauth:c.reauth})),[2,{fallthrough:!1}]}})}),function(e){return r.apply(this,arguments)}),V=(n=(0,a._)(function(){var e,t,r,n,i;return(0,l.Jh)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,E.ZP)(void 0,function(){(0,y.j)(y.U3.AUTH_FORM_CAPTCHA_TRIGGERED,{authenticationType:"login"})})];case 1:return e=a.sent(),[3,3];case 2:return t=a.sent(),p.Tb(t,function(e){return e.setTag("bonsai",(0,T.Fj)(F))}),o({error:"Something went wrong trying to submit. Please try again."}),f(!1),[2];case 3:return[4,function(e){return w.apply(this,arguments)}({username:C,password:G,hCaptchaResponse:e,hCaptchaSiteKey:E.wE})];case 4:if("error"in(r=a.sent())){if(n=r.error,f(!1),o({error:n.message||"Something went wrong"}),n.status&&n.status>=500)throw n;return[2]}return i=r.postLoginRedirectUrl?S({redirectUrl:r.postLoginRedirectUrl}):void 0,o({user:{id:r.id,postLoginRedirectUrl:i},isLogin:!0}),[2]}})}),function(){return n.apply(this,arguments)});return(0,u.BX)(R.l0,{onSubmit:H,css:W.form,children:[(0,u.tZ)(h.Z,{type:"text",label:"Email or username",name:"username",value:C,onChange:_,autoComplete:"email"}),(0,u.tZ)(h.Z,{type:"password",label:"Password",name:"password",value:G,onChange:B}),(0,u.BX)(x.G,{css:W.buttonWrapper,children:[(0,u.tZ)(I.ZP,{type:"submit",variant:"primary",stretch:!0,loading:d,disabled:!G||!C||g,iconRight:d?(0,u.tZ)(A.Z,{}):g?(0,u.tZ)(L.Z,{}):void 0,dataCy:"log-in-btn",text:"Log In"}),(0,u.tZ)(P.S,{variant:"clean",css:W.secondaryAction,legacyBehavior:!0,href:"/forgot",passHref:!0,text:"Forgot password?"}),!1]})]})}var F=r(23305),H=r(84761),X=r(97463),V=r(14224);(n=o||(o={}))[n.Loaded=0]="Loaded",n[n.Skipped=1]="Skipped",n[n.Failed=2]="Failed";var J="https://elements.stytch.com/telemetry.js";function N(){return"true"===V.env.IS_CYPRESS_AUTOMATED_TEST}var O=window.location.pathname;function j(){return(j=(0,a._)(function(){var e,t,r;return(0,l.Jh)(this,function(n){return e=performance.now(),(t=document.createElement("script")).src=J,t.async=!0,r=new Promise(function(e){setTimeout(function(){X.kg.error("Timeout while loading Stytch script"),e()},4e3)}),i=Promise.race([new Promise(function(r){t.onload=function(){var t=performance.now();X.kg.time("time to load Stytch script",t-e),r()},t.onerror=function(){X.kg.error("Error loading Stytch script at ".concat(J)),r()},document.head.appendChild(t)}),r]),[2]})})).apply(this,arguments)}function Y(){return(Y=(0,a._)(function(){return(0,l.Jh)(this,function(e){switch(e.label){case 0:if(N())return[2,1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,i];case 2:return e.sent(),[2,0];case 3:return e.sent(),[2,2];case 4:return[2]}})})).apply(this,arguments)}function z(e){return q.apply(this,arguments)}function q(){return(q=(0,a._)(function(e){var t;return(0,l.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Promise.race([function(e){return K.apply(this,arguments)}(e),new Promise(function(e,t){return setTimeout(function(){return t(Error("Could not process device fingerprint in 4s"))},4e3)})])];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),X.kg.error("Error fetching device fingerprint data ".concat(t.message)),[2,"N/A"];case 3:return[2]}})})).apply(this,arguments)}function K(){return(K=(0,a._)(function(e){var t,r,n;return(0,l.Jh)(this,function(i){switch(i.label){case 0:return[4,function(){return Y.apply(this,arguments)}()];case 1:if(i.sent()!==o.Loaded)return[2];return t=window.location.host.startsWith("staging")?"public-token-test-f16841f0-b961-4442-93b3-751c8cfe0d8b":"public-token-live-88edc789-05cb-440a-a321-dab99f475524",r="https://telemetry.replit.com/submit",[4,window.GetTelemetryID(t,r)];case 2:if(!(n=i.sent())||""===n.trim())return X.kg.error("Client received an empty telemetryId",{userId:e}),[2];return X.kg.info("Successfully received the telemetryId from Stytch ".concat(n),{telemetryId:n,userId:e}),[4,fetch("/telemetry",{method:"GET",headers:{"Content-Type":"application/json","telemetry-id":n,"user-id":e}})];case 3:return i.sent(),[2]}})})).apply(this,arguments)}!N()&&["/signup"].some(function(e){return O.startsWith(e)})&&(function(){return j.apply(this,arguments)})().catch(function(e){return p.Tb(e)});var Q=r(40906),$=r(76376);function ee(e){return e.error?[{message:e.error.message,state:"error"}]:e.warning?[{message:e.warning.message,state:"warning"}]:e.value?e.isValid?[{message:"",state:"success"}]:e.touched?[{message:"",state:"loading"}]:void 0:void 0}var et=(0,U.X)({form:[G.l0.colWithGap(8),G.l0.width("100%")],buttonWrapper:[G.l0.colWithGap(4)]}),er=function(e){var t,r=e.onSubmit,n=e.seededEmail,o=e.trackSource,i=void 0===o?"explicit":o,c=(0,s._)((0,M.useState)(!1),2),d=c[0],p=c[1],f=(0,s._)((0,M.useState)(!1),2),m=f[0],g=f[1],v=(0,H.Y)(n||"",Q.Z.email),y=(0,H.Y)("",Q.Z.password),b=(t=(0,a._)(function(e){var t,n,o,a,s;return(0,l.Jh)(this,function(c){switch(c.label){case 0:if(e.preventDefault(),p(!0),v.isValid)return[3,2];return[4,v.validate()];case 1:if(c.sent())return p(!1),[2];c.label=2;case 2:if(y.isValid)return[3,4];return[4,y.validate()];case 3:if(c.sent())return p(!1),[2];c.label=4;case 4:return c.trys.push([4,6,,7]),[4,(0,k.Uj)({action:"signUpPassword"})];case 5:return t=c.sent(),[3,7];case 6:return c.sent(),r({error:"We failed to evaluate your browser integrity. Please refresh the page and try again. If the problem persists, check your browser and network configuration."}),[2];case 7:return[4,(0,Z.xF)({email:v.value,rawPassword:y.value,clientType:"CLIENT_TYPE_WEB",recaptchaToken:t,source:i})];case 8:if("error"===(n=c.sent()).type)return g(!1),p(!1),r({error:n.message}),[2];return[4,(0,k.Np)({response:n.session})];case 9:if("error"===(o=c.sent()).type)return g(!1),p(!1),r({error:o.message}),[2];return[4,(0,Z.d8)(o.user,{source:i})];case 10:if("success"===(a=c.sent()).type)return[3,11];return[3,13];case 11:return p(!1),g(!0),[4,z(a.userId.toString())];case 12:return c.sent(),s=a.redirectUrl?S({redirectUrl:a.redirectUrl}):void 0,r({user:{id:a.userId,postLoginRedirectUrl:s},isLogin:!1}),[3,14];case 13:return g(!1),p(!1),r({error:a.message,reauth:a.reauth}),[3,14];case 14:return[2]}})}),function(e){return t.apply(this,arguments)}),w=!v.value;return(0,u.tZ)("form",{onSubmit:b,css:et.form,children:(0,u.BX)(x.G,{css:et.form,children:[(0,u.tZ)(h.Z,{type:"text",name:"email",label:"Email",onBlur:v.handleBlur,validationResults:ee(v),onChange:v.setValue,value:v.value,autoComplete:"email"}),(0,u.tZ)(h.Z,{type:"password",label:"Password",name:"password",showToggle:!1,onBlur:y.handleBlur,validationResults:ee(y),onChange:y.setValue,value:y.value}),(0,u.tZ)(x.G,{css:et.buttonWrapper,children:(0,u.tZ)(I.ZP,{type:"submit",variant:"primary",stretch:!0,loading:d,disabled:!y.value||w||m,iconLeft:d?(0,u.tZ)(A.Z,{}):m?(0,u.tZ)(L.Z,{}):void 0,dataCy:"signup-create-account",text:"Create Account"})}),null]})})},en=r(78627),eo=r(50965),ei=(0,U.X)({ssoWrapper:[G.l0.rowWithGap(8),G.l0.align.center,G.l0.justify.center],ssoButton:[G.l0.backgroundColor.brandBackgroundDarker,G.l0.minHeight(40)],ssoIconWrapper:[G.l0.p(2),G.l0.borderRadius(4)],ssoIcon:[G.l0.width(20),G.l0.height(20),{backgroundSize:"contain"}]}),ea=function(e){var t=e.onClick,r=e.iconLeft,n=e.text;return(0,u.tZ)(I.ZP,{css:ei.ssoButton,variant:"secondary",onClick:t,stretch:!0,iconLeft:r,text:n})},es=function(e){var t=e.onClick,r=e.provider,n="oauth"===r.type?(0,u.tZ)(x.G,{css:ei.ssoIconWrapper,children:(0,u.tZ)("div",{style:{backgroundImage:"url(/public/images/".concat(r.providerId.replace(".com",""),".png)")},css:ei.ssoIcon})}):(0,u.tZ)(en.Z,{}),o="oauth"===r.type?"Continue with ".concat(eo.tn[r.providerId]):"Continue with SAML";return(0,u.tZ)(ea,{onClick:t,iconLeft:n,text:o})},ec=[eo.b$,eo._i],el=(0,c._)(ec).concat([eo.mG,eo.V$]),eu=function(e){var t,r,n=e.mode,o=e.onRedirectingChange,i=e.onSubmit,s=(t=(0,a._)(function(e){var t;return(0,l.Jh)(this,function(r){switch(r.label){case 0:return t=e.replace(".com",""),(0,y.j)(y.U3.AUTH_FORM_SSO_REQUESTED,{provider:t,authenticationType:n,isTeacher:"false"}),[4,o(!0)];case 1:return r.sent(),[4,(0,k.IG)({tenantId:void 0,provider:{type:"oauth",providerId:e}})];case 2:return"error"===r.sent().type&&i({error:k.ju}),[2]}})}),function(e){return t.apply(this,arguments)});return r="login"===n?el.map(function(e){return(0,u.tZ)(es,{onClick:function(){return s(e)},provider:{type:"oauth",providerId:e}},e)}):ec.map(function(e){return(0,u.tZ)(es,{onClick:function(){return s(e)},provider:{type:"oauth",providerId:e}},e)}),(0,u.tZ)(u.HY,{children:r})},ed=r(73185),ep=r(86583),eh=r(75094),ef=r(11398),em=r(82196),eg=(0,U.X)({signupFormEmailDisclaimerContainer:[G.l0.width("100%")],signupFormEmailDisclaimer:[G.l0.color.brandText,G.l0.font.brandVariable,G.cv.typography.caption.small,G.l0.textAlign.center,G.l0.width("100%")],link:[G.l0.color.foregroundDefault,{fontWeight:700,textDecoration:"none"}]}),ev=function(){return(0,u.tZ)(x.G,{css:eg.signupFormEmailDisclaimerContainer,children:(0,u.BX)(ef.xv,{css:eg.signupFormEmailDisclaimer,children:["By continuing, you agree to Replit's",(0,u.tZ)("br",{}),(0,u.tZ)("a",{css:eg.link,href:em.Gu.TERMS_OF_SERVICE,target:"_blank",children:"Terms of Service"})," ","and"," ",(0,u.tZ)("a",{css:eg.link,href:em.Gu.PRIVACY_POLICY,target:"_blank",children:"Privacy Policy"})]})})},ey=[G.l0.align.center,G.l0.colWithGap(16)],eb=(0,U.X)({signupDisclaimerWrapper:[G.l0.pb(24)],footerLinkWrapper:[G.cv.typography.caption.small,G.l0.textAlign.center],footerLink:[G.cv.typography.caption.small,G.l0.color.brandAccentStrongest,{":hover":{color:G.TV.brandAccentStronger,backgroundColor:"transparent"}}],footerContainerNotModal:(0,c._)(ey).concat([G.l0.bottom(24)]),footerContainerModal:(0,c._)(ey).concat([G.l0.pt(24)]),cssLastRow:[G.l0.rowWithGap(16),G.l0.align.center],heightWrapper:[G.l0.height(132)],recaptchaDisclaimer:[G.l0.textAlign.center,G.cv.typography.caption.small,G.l0.color.foregroundDimmest,{"& > a":{color:"inherit",textDecoration:"underline"},"& > a:hover":{textDecoration:"none"}}]}),ew=function(e){var t=e.mode,r=e.isModal,n=e.onModeChange,o=function(e){e.preventDefault(),(0,ed.uk)({isLogin:"login"===t,authFormPlacement:r?"modal":"auth-page"}),n("login"===t?"signup":"login")};return(0,u.BX)(ef.xv,{css:eb.footerLinkWrapper,variant:"small",multiline:!1,children:["login"===t?"New to Replit? ":"Already have an account? ",(0,u.tZ)("a",{role:"button",tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&o(e)},onClick:function(e){return o(e)},css:eb.footerLink,children:"login"===t?"Sign up":"Log in"})]})},eZ=function(){return(0,u.BX)(ef.xv,{variant:"small",color:"dimmest",css:eb.recaptchaDisclaimer,children:["This site is protected by reCAPTCHA Enterprise and the Google"," ",(0,u.tZ)("a",{href:"https://policies.google.com/privacy",children:"Privacy Policy"})," and"," ",(0,u.tZ)("a",{href:"https://policies.google.com/terms",children:"Terms of Service"})," apply."]})},eC=function(e){var t=e.isModal,r=e.mode,n=e.onModeChange,o=t?void 0:eb.heightWrapper;return(0,u.tZ)(x.G,{css:o,children:(0,u.BX)(x.G,{css:t?eb.footerContainerModal:eb.footerContainerNotModal,children:[(0,u.tZ)(ep.R,{}),"signup"===r?(0,u.tZ)(x.G,{css:eb.signupDisclaimerWrapper,children:(0,u.tZ)(ev,{})}):null,(0,u.tZ)(ew,{mode:r,isModal:t,onModeChange:n}),(0,u.tZ)(x.G,{css:eb.cssLastRow,children:(0,u.tZ)(ef.xv,{css:eb.footerLinkWrapper,variant:"small",multiline:!1,children:(0,u.tZ)("a",{href:"https://replit.com/help",target:"_blank",rel:"noopener noreferrer",css:eb.footerLink,children:"Get help"})})}),(0,u.tZ)(eZ,{})]})})},e_=(0,U.X)({self:[G.l0.font.brandDefault,{fontWeight:512,fontSize:24,lineHeight:32/24}]}),eS=function(e){var t=e.mode,r=e.privateDeployment,n="Create a Replit account";return"login"===t&&(n="Log in to your account"),r&&(n="Log in to access a private website"),(0,u.tZ)(ef.h4,{variant:"headerDefault",level:1,css:e_.self,children:n})},ek=(0,U.X)({mainControls:[G.l0.colWithGap(12),G.l0.width("100%"),G.l0.px(12)],switchFormTypeContainer:[G.l0.display.flex,G.l0.align.center],switchFormType:[G.l0.color.brandAccentStrongest,{backgroundColor:"transparent",":hover":{color:G.TV.brandAccentStronger,backgroundColor:"transparent"}}],ssoContainer:[G.l0.width("100%"),G.l0.colWithGap(8)],samlLoginForm:[G.l0.pb(64)]}),eE=function(e){var t=e.onRedirectingChange,r=e.onSubmit,n=e.tracking,o=(0,s._)((0,M.useState)("password"),2),i=o[0],a=o[1];return(0,u.BX)(u.HY,{children:["password"===i?(0,u.tZ)(B,{onSubmit:r,trackSource:n.from}):null,"saml"===i?(0,u.tZ)(x.G,{css:ek.samlLoginForm,children:(0,u.tZ)(F.Z,{onSubmit:r,mode:"login",onRedirectingChange:t})}):null,(0,u.BX)(x.G,{css:ek.ssoContainer,children:[(0,u.tZ)(eI,{emailLoginType:i,setEmailLoginType:a}),(0,u.tZ)(eu,{mode:"login",onRedirectingChange:t,onSubmit:r})]})]})},eT=function(e){var t=e.mode,r=e.onRedirectingChange,n=e.onSubmit,o=e.seededEmail,i=e.tracking,a=(0,s._)((0,M.useState)("password"),2),c=a[0],l=a[1];return(0,u.BX)(u.HY,{children:[(0,u.BX)(x.G,{css:ek.ssoContainer,children:[(0,u.tZ)(eu,{mode:t,onRedirectingChange:r,onSubmit:n}),(0,u.tZ)(eI,{emailLoginType:c,setEmailLoginType:l})]}),(0,u.tZ)(ep.R,{}),"password"===c?(0,u.tZ)(er,{onSubmit:n,seededEmail:o,trackSource:i.from}):null,"saml"===c?(0,u.tZ)(F.Z,{onSubmit:n,mode:"signup",onRedirectingChange:r}):null]})},eI=function(e){var t=e.emailLoginType,r=e.setEmailLoginType;return(0,u.tZ)(ea,{onClick:function(){return r("password"===t?"saml":"password")},iconLeft:"password"===t?(0,u.tZ)(en.Z,{size:20}):(0,u.tZ)(eh.Z,{size:20}),text:"Continue with ".concat("password"===t?"SSO":"password")})},eP=function(e){var t=e.children,r=e.customHeader,n=e.isModal,o=e.mode,i=e.onModeChange,a=e.onRedirectingChange,s=e.onSubmit,c=e.seededEmail,l=e.initialTenantId,d=e.tracking,p=e.privateDeployment;return(0,M.useEffect)(function(){var e=n?"modal":"auth-page";"login"===o?(0,ed.vF)({from:d.from,location:d.location,authFormPlacement:e}):(0,ed.P9)({from:d.from,location:d.location,authFormPlacement:e})},[o,n,d.from,d.location]),(0,M.useEffect)(function(){void 0!==l&&(a(!0),(0,Z.g8)({type:"tenantId",tenantId:l}).then(function(e){if("error"===e.type){s({error:e.message});return}(0,k.IG)({tenantId:e.tenantId,provider:{type:"saml",providerId:e.samlProviderId}}).then(function(e){if("error"===e.type){s({error:k.ju});return}})}))},[l,a,s]),(0,u.BX)(u.HY,{children:[r?null:(0,u.tZ)(eS,{mode:o,privateDeployment:p}),(0,u.BX)(x.G,{css:ek.mainControls,children:[t,"login"===o?(0,u.tZ)(eE,{onRedirectingChange:a,onSubmit:s,tracking:d}):(0,u.tZ)(eT,{mode:o,onRedirectingChange:a,onSubmit:s,seededEmail:c,tracking:d}),(0,u.tZ)(eC,{mode:o,isModal:n,onModeChange:i})]})]})},eR=r(42226),ex=(0,U.X)({container:[G.l0.pt(128),(0,eR._)({margin:"auto"},G.BC.max("mobileMax"),[G.l0.pt(96)]),G.l0.colWithGap(32)],message:[G.l0.colWithGap(16)],button:[G.l0.color.foregroundDimmest]}),eU=function(e){var t,r=e.email,n=e.providerId,o=e.onCancel;return t=eo.QT.some(function(e){return e===n})?eo.tn[n]:n===eo.N7?"your password":"this provider",(0,u.BX)(x.G,{css:ex.container,children:[(0,u.tZ)(ef.h4,{variant:"headerDefault",level:1,children:"Verification required"}),(0,u.BX)(x.G,{css:ex.message,children:[(0,u.BX)(ef.xv,{variant:"subheadDefault",multiline:!0,children:["In order to log in with ",t,", you must verify"," ",r||"your email","."]}),(0,u.tZ)(ef.xv,{multiline:!0,children:"We've sent an email with a verification link. If you don't see it, check your spam folder, or contact support for assistance."})]}),(0,u.tZ)($.zx,{size:"big",variant:"outlined",css:ex.button,onClick:function(){return o()},text:"Back to log in"})]})},eL=r(40225),eA=r(11343),eG=r(23015),eD=r(55173),eM=[G.l0.width(470),G.l0.maxWidth("100%"),G.l0.colWithGap(32),G.l0.align.center,{margin:"auto","& *":[G.rA]}],eW=(0,U.X)({error:[G.l0.mb(16)],container:(0,c._)(eM).concat([G.l0.p(24)]),containerModal:(0,c._)(eM),loadingContainer:[G.l0.colWithGap(8),G.l0.align.center],loadingText:[G.l0.fontSize(16),G.l0.flex.shrink(1)]}),eB="redirecting",eF=function(e){var t,r,n,o=e.customHeader,i=e.isModal,c=e.mode,h=e.onModeChange,f=e.onSuccess,m=e.seededEmail,g=e.initialTenantId,v=e.tracking,y=e.privateDeployment,b=(0,d.x)(),w=(0,D.useRouter)(),C=(0,eA.Wd)(eB,"boolean"),_=(0,s._)((0,M.useState)(C?{type:"redirecting"}:{type:"form"}),2),E=_[0],T=_[1],I=(0,s._)((0,M.useState)(),2),P=I[0],R=I[1],U=(0,M.useCallback)((t=(0,a._)(function(e){return(0,l.Jh)(this,function(t){switch(t.label){case 0:if(!e)return[3,2];return T({type:"redirecting"}),[4,(0,eA.pg)({router:w,params:[{mode:"add",key:eB,value:"1"}]})];case 1:return t.sent(),[3,3];case 2:T({type:"form"}),(0,eA.pg)({router:w,params:[{mode:"delete",key:eB}]}),t.label=3;case 3:return[2]}})}),function(e){return t.apply(this,arguments)}),[w]),L=function(e){T({type:"redirecting",message:"SAML SSO required. Redirecting to the SSO login page..."}),setTimeout((0,a._)(function(){return(0,l.Jh)(this,function(t){switch(t.label){case 0:return[4,(0,k.IG)({tenantId:e.tenantId,provider:{type:"saml",providerId:e.samlProviderId}})];case 1:return"error"===t.sent().type&&(R({message:"Something went wrong. Please try logging in again.",colorway:"negative"}),T({type:"form"})),[2]}})}),3e3)},G=(0,M.useCallback)((r=(0,a._)(function(e){var t,r;return(0,l.Jh)(this,function(n){switch(n.label){case 0:if(!("error"in e&&e.error))return[3,2];if(e.reauth)return L(e.reauth),[2];return R({message:e.error,colorway:null!==(t=e.colorway)&&void 0!==t?t:"negative"}),[4,U(!1)];case 1:return n.sent(),[2];case 2:if(!("user"in e&&e.user))throw Error("Expected error or user object");if(null!=(r=e.user.postLoginRedirectUrl)&&r.length>0)return window.location.href=r,[2];return e.isLogin||(0,ed.jw)(e.user.id.toString()),f(e),[2]}})}),function(e){return r.apply(this,arguments)}),[U,f,R]),W=(0,eL.J)();switch((0,M.useEffect)(function(){var e;(0,k.WT)().then((e=(0,a._)(function(e){var t,r,n,o;return(0,l.Jh)(this,function(i){switch(i.label){case 0:if("success"!==e.type)return[3,13];if(null===e.result)return"redirecting"===E.type&&U(!1),[2];return"redirecting"!==E.type&&U(!0),[4,(0,Z.d8)(e.result.user,{source:v.from})];case 1:switch((t=i.sent()).type){case"success":return[3,2];case"needs_email_verification":return[3,7];case"error":return[3,9]}return[3,11];case 2:if((null===(r=e.result)||void 0===r?void 0:r.providerId)!==eo._i)return[3,4];return[4,W({userCredential:e.result,oauthProviderId:eo._i,scopes:[]})];case 3:i.sent(),i.label=4;case 4:if(n=t.redirectUrl?S({redirectUrl:t.redirectUrl}):void 0)return window.location.href=n,[2];if(!(t.isNewUser&&e.result.providerId===eo.b$))return[3,6];return[4,z(t.userId.toString())];case 5:i.sent(),i.label=6;case 6:return f({user:{id:t.userId},isLogin:!t.isNewUser}),[3,12];case 7:return U(!1),T({type:"needs-email-verification",email:e.result.user.email,providerId:e.result.providerId}),[4,(0,k.w7)(b)];case 8:case 10:return i.sent(),[3,12];case 9:if(t.reauth)return L(t.reauth),[2];return U(!1),R({message:t.message,colorway:"negative"}),[4,(0,k.w7)(b)];case 11:(0,eD.Z)(t),i.label=12;case 12:return[2];case 13:switch(U(!1),e.treatment){case"requires-provider-link":return[3,14];case"credential-conflict":return[3,15];case"email-conflict":return[3,16];case"forbidden-operation":return[3,17];case"user-needs-email":return[3,18];case"timeout":case"unhandled":case"unknown":return[3,20]}return[3,21];case 14:return R({message:"Please log in to ".concat(e.context.email," with another method and link ").concat(eo.tn[e.context.credential.providerId]," from the account page."),colorway:"negative"}),[3,22];case 15:return R({message:"This provider cannot be used, please try another method.",colorway:"negative"}),[3,22];case 16:return R({message:"This email cannot be used, please try another method.",colorway:"negative"}),[3,22];case 17:return R({message:"That action is not permitted",colorway:"negative"}),[3,22];case 18:return o=eo.tn[e.credential.providerId],R({message:"Your ".concat(o," account is missing an email address. To use it for Replit, you'll need to ").concat("login"===c?"log in":"sign up"," with another method and connect ").concat(o," from the account page."),colorway:"negative"}),[4,(0,k.w7)(b)];case 19:return i.sent(),[3,22];case 20:return R({message:"Something unexpected happened, please try again.",colorway:"negative"}),[3,22];case 21:(0,eD.Z)(e),i.label=22;case 22:return[2]}})}),function(t){return e.apply(this,arguments)})).catch(function(e){return p.Tb(e)})},[]),E.type){case"form":n=(0,u.tZ)(eP,{customHeader:o,isModal:i,mode:c,onModeChange:function(e){R(void 0),h(e)},onRedirectingChange:U,onSubmit:G,seededEmail:m,initialTenantId:g,tracking:v,privateDeployment:y,children:P?(0,u.tZ)(eG.E,{css:eW.error,colorway:P.colorway,text:P.message}):null});break;case"needs-email-verification":n=(0,u.tZ)(eU,{email:E.email,providerId:E.providerId,onCancel:function(){return T({type:"form"})}});break;case"redirecting":n=(0,u.BX)(x.G,{css:eW.loadingContainer,children:[(0,u.tZ)(A.Z,{size:32}),E.message?(0,u.tZ)(ef.xv,{multiline:!0,css:eW.loadingText,children:E.message}):null]})}return(0,u.tZ)(x.G,{css:i?eW.containerModal:eW.container,children:n})}},73185:function(e,t,r){r.d(t,{P9:function(){return l},jw:function(){return a},uk:function(){return s},vF:function(){return c}});var n=r(94213),o=r(64746),i=r(38228),a=function(e){var t=o.Z.get("gfa_ref")||void 0,r=o.Z.get("gfa_campaign")||void 0,n=o.Z.get("gfa_landed_on")||void 0;(0,i.yV)({id:e,firstAcquisitionSource:t,firstAcquisitionCampaign:r,firstAcquisitionLandedOn:n})},s=function(e){var t=e.isLogin,r=e.authFormPlacement;(0,i.j)(i.U3.AUTH_FORM_MODE_TOGGLED,t?{from:"login",to:"signup",authFormPlacement:r}:{from:"signup",to:"login",authFormPlacement:r})},c=function(e){var t=e.from,r=e.location,o=e.authFormPlacement,a=e.extras;(0,i.j)(i.U3.LOGIN_REQUESTED,(0,n._)({from:t,location:r,authFormPlacement:o},void 0===a?{}:a))},l=function(e){var t=e.from,r=e.location,o=e.authFormPlacement,a=e.extras;(0,i.j)(i.U3.SIGNUP_REQUESTED,(0,n._)({from:t,location:r,authFormPlacement:o},void 0===a?{}:a))}},40225:function(e,t,r){r.d(t,{J:function(){return v}});var n=r(84750),o=r(5093),i=r(96583),a=r(25722),s=r(49311),c=r(94213),l=r(14489),u=r(10222),d=r(96784);function p(){var e=(0,l._)(["\n  mutation SaveUserAuth($input: SaveUserAuthInput!) {\n    saveUserAuth(input: $input) {\n      ... on CurrentUser {\n        id\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n"]);return p=function(){return e},e}var h={},f=(0,u.Ps)(p()),m=r(75271),g={type:"error",message:"Something unexpected happened, please try again."};function v(){var e,t,r=(0,o._)((e=(0,c._)({},h,void 0),d.D(f,e)),1)[0];return(0,m.useCallback)((t=(0,n._)(function(e){var t,n,o,c,l;return(0,i.Jh)(this,function(i){switch(i.label){case 0:if(t=e.userCredential,n=e.oauthProviderId,o=e.scopes,!(c=(0,s.mM)(n,t))||!c.accessToken)return a.Tb(Error("Failed to extract token from ".concat(n," credential"))),[2,g];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r({variables:{input:{provider:n,token:c.accessToken,scopes:o}}})];case 2:return l=i.sent(),[3,4];case 3:return i.sent(),a.Tb(Error("Failed to save ".concat(n," Auth state"))),[2,g];case 4:if(!l.data)return a.Tb(Error("Unexpected error trying to save ".concat(n," Auth state"))),[2,g];if("CurrentUser"!==l.data.saveUserAuth.__typename)return[2,{type:"error",message:l.data.saveUserAuth.message}];return[2,{type:"success"}]}})}),function(e){return t.apply(this,arguments)}),[r])}},66885:function(e,t,r){r.d(t,{ZP:function(){return d},wE:function(){return a}});var n=r(84750),o=r(96583),i=r(14224),a="473079ba-e99f-4e25-a635-e9b661c7dd3e",s=0,c=null;function l(){return u.apply(this,arguments)}function u(){return(u=(0,n._)(function(){var e;return(0,o.Jh)(this,function(t){return(e=document.createElement("script")).src="https://js.hcaptcha.com/1/api.js?render=explicit&host=repl.it",[2,new Promise(function(t,r){e.onload=function e(t){return function(){void 0===window.hcaptcha?setTimeout(function(){e(t)},100):t()}}(function(){c=null,t()}),e.onerror=function(){s++,c=new Promise(function(e,t){setTimeout(function(){l().then(e,t)},1e3*Math.pow(1.7,s)+Math.floor(500*Math.random()))}),5===s&&r(Error("Failed to load captcha script after ".concat(5," times")))},window.document.head.appendChild(e)})]})})).apply(this,arguments)}function d(e,t){return p.apply(this,arguments)}function p(){return(p=(0,n._)(function(e,t){var r;return(0,o.Jh)(this,function(n){switch(n.label){case 0:if("true"===i.env.IS_CYPRESS_AUTOMATED_TEST||"true"===i.env.SKIP_HCAPTCHA)return[2,"bypassed"];if(!c)return[3,2];return[4,c];case 1:n.sent(),n.label=2;case 2:return r=window.hcaptcha,[2,new Promise(function(n,o){var i=document.createElement("div"),s=r.render(i,{sitekey:e||a,size:"invisible",callback:function(e){r.reset(s),window.document.body.contains(i)&&window.document.body.removeChild(i),n(e)},"open-callback":function(){t&&t()},"close-callback":function(){r.reset(s),window.document.body.contains(i)&&window.document.body.removeChild(i),o(Error("HCaptcha closed"))},"chalexpired-callback":function(){r.reset(s),window.document.body.contains(i)&&window.document.body.removeChild(i),o(Error("HCaptcha challenge expired"))},"error-callback":function(){r.reset(s),window.document.body.contains(i)&&window.document.body.removeChild(i),o(Error("HCaptcha render error"))},"expired-callback":function(){r.reset(s),window.document.body.contains(i)&&window.document.body.removeChild(i),o(Error("HCaptcha render expired"))}});window.document.body.appendChild(i),r.execute(s)})]}})})).apply(this,arguments)}c=l()},98453:function(e,t,r){r.d(t,{H:function(){return h},S:function(){return f}});var n=r(94213),o=r(32586),i=r(25659),a=r(3796),s=r(34596),c=r(22915),l=r(27948),u=r.n(l),d=r(75271),p=c.K.a,h=d.forwardRef(function(e,t){var r=e.href,c=(0,i._)(e,["href"]),l=(0,s.Q7)(c),u=(0,a.tZ)(s.dI,(0,n._)({},c));return c.disabled?(0,a.tZ)(p,(0,o._)((0,n._)({ref:t,href:r,"aria-disabled":c.disabled,css:l,role:"link"},c),{children:u})):(0,a.tZ)(p,(0,o._)((0,n._)({ref:t,css:l,role:"link",href:r},c),{children:u}))}),f=d.forwardRef(function(e,t){var r=e.href,c=(0,i._)(e,["href"]),l=(0,s.Q7)(c),d=(0,a.tZ)(s.dI,(0,n._)({},c));return c.disabled?(0,a.tZ)(p,(0,o._)((0,n._)({ref:t,"aria-disabled":c.disabled,css:l,role:"link"},c),{children:d})):(0,a.tZ)(u(),(0,o._)((0,n._)({legacyBehavior:!0,passHref:!0,href:r},c),{children:(0,a.tZ)(p,(0,o._)((0,n._)({ref:t,css:l,role:"link"},c),{children:d}))}))})},86583:function(e,t,r){r.d(t,{R:function(){return s}});var n=r(3796),o=r(62279),i=r(2487),a=(0,o.iv)(i.l0.backgroundColor.outlineDimmest,i.l0.height(1),i.l0.minHeight(1),i.l0.width("100%"));function s(e){var t=e.className;return(0,n.tZ)("div",{className:t,css:a})}},78627:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(94213),o=r(32586),i=r(3796),a=r(60629);function s(e){return(0,i.tZ)(a.ZP,(0,o._)((0,n._)({},e),{children:(0,i.tZ)("path",{fillRule:"evenodd",d:"M23.31 11.753a.75.75 0 0 1-.75.75h-1.523v2.698a.75.75 0 0 1-1.5 0v-2.698h-2.476v3.698a.75.75 0 0 1-1.5 0v-3.698h-3.219a5.168 5.168 0 0 1-10.285-.755v-.008a5.168 5.168 0 0 1 10.268-.737H22.56a.75.75 0 0 1 .75.75Zm-12.417.043-.002-.03a3.668 3.668 0 0 0-7.334-.004 3.668 3.668 0 1 0 7.336.034Z",clipRule:"evenodd"})}))}},75094:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(94213),o=r(32586),i=r(3796),a=r(60629);function s(e){return(0,i.tZ)(a.ZP,(0,o._)((0,n._)({},e),{children:(0,i.tZ)("path",{fillRule:"evenodd",d:"M2.802 5.646 12 12.085l9.198-6.44A1.258 1.258 0 0 0 20 4.75H4c-.563 0-1.044.38-1.198.896ZM21.25 7.44l-8.82 6.174a.75.75 0 0 1-.86 0L2.75 7.44V18c0 .686.564 1.25 1.25 1.25h16c.686 0 1.25-.564 1.25-1.25V7.44ZM1.25 6A2.756 2.756 0 0 1 4 3.25h16A2.756 2.756 0 0 1 22.75 6v12A2.756 2.756 0 0 1 20 20.75H4A2.756 2.756 0 0 1 1.25 18V6Z",clipRule:"evenodd"})}))}}}]);
//# sourceMappingURL=3086-26c52d5245baaa65.js.map