!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7cd79433-890b-4309-94e6-6cb149749bce",e._sentryDebugIdIdentifier="sentry-dbid-7cd79433-890b-4309-94e6-6cb149749bce")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"cbe5ac61"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[130,8022],{32681:function(e){e.exports=(e={})=>{let t=s("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAAAQCAYAAAAoEfIQAAAAAXNSR0IArs4c6QAAActJREFUaIHtmttuwyAMQEm1//9l9kTEHGyMb4HVR6rSJYAdX8CDlpIkSZIkSbITFXxO5WTdT8fd9pe3AANqidWzGR3KxO7DNhpde4dj8mc6aPtYEO0zS0ZJJ3mXENvvbuQVI6zOdqPxOIE3a6MJXgv5fTvI7v5+m2ZbGHerPtXYHpM1vP+zoMCqEpr+UrT6WemwwwrU5EfqwrGrNpAlaMda9anG9iNZ6DhYAltAlYAcYHvvQOSOz3GmNIm58iksKgTpBGxVJXlMsJIEhPciJsMKrv39h+yPszLfDCzFItAmSNuwowKYI0Pz3hV8l2wkYv0i/DHSlfsO2D7LBZ7feK7AGqgAe7s0XSGynKYCdWRPdpnWEVGW9xPfqIqTVCCcDUgLqMlv1obrvz/9d03g/0RUEmOBP0pU2Ibq3xOVCB7VS9QmlKbP7L0fzz0TWOMA7EU8A4ebaFYbE9KxqTbcwKf6Nxkrcrms9Lf09UlVWynzFfoGS+BIR1FjvHWO6UHkSqx5zm0zYzaReJ1lnxo3V3etyPf++vzjcCzOgftxvP6PopLY8occeQ4sY1bCavpzx2CTDsWBjjjRVrutRKdtQibJ60QfZSVJkiQcfgHLRY8eT2qnRAAAAABJRU5ErkJggg=="),r=s("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJgAAAAoCAYAAAACCDNUAAAAAXNSR0IArs4c6QAABuJJREFUeJztXNGO3DAIjKv7/192X0KOkBkY7Oy1qop06sYYPAYMOHfbcYg05zzGGPP8PMYYcPw4jvSZ6UBykcYY11zAuxhu3RK/5wOs2R5vcozYvLj+TxGztbdfGC9tk8n/+tRGFJpzQoBjjGnP/rOfG+effGasEgfSE+bEw3LxEJ6IIRv/KaqCa845mA0z3Jn81+u7IIujzyzjKfr8XMuMkXdmHiqX6fUZxk6xXydbP2JA5Jyd7lfNkBU1qgRc0FcfxIvyNvZKgEWwyPjoc5xDHETBm+OjHFvD6Un3g/isPDOjoz2zfVSkODajJHM9MjHBm7Umqf7tABNOUJnBPCjjRT4Jmocj0bxuv+Mznx8jc9MeBs0hJfj2HPrH2shEPnM+20uHKv2tAFsEUGYwdEKLzAUdlaVxFacFtg+yqrwgfC4b3HQ4mQeG3cPRwCfrrEo8W9f4rQDrpnZB39XbIP2nIdI1UeZCGVDFwWQzJ2UtgjiuwFwiNXOxFsXrYDrZvDmnHsrKCVTkmI4qxdtY1xk7p7WTfXYolvqVNVT7KbJ+/m7w+9uW/B7E+KjJjjp25S+gSY+T8dUgUfkhUyLYD7ki+6X4ES/qqpr4qgXprq/ot3mmpOxxYPoLC2QlifUX6IRUPVfn2QdYFhwZv3KgQizISABKPat6AF+2p4TH6IsxmHGyJrqq4WidrEz+DZQFl5GSwYtLxNbrChQQnR4U4c54qv5hrylQqsuymZsDAVWNsskEI9/meNmqCUV8RJVBGL/qjxRDs0uEsv+3iNkvYvXUOfRIv2Ww2yAKkOi8lRNSnbCqh0Dy3nkM6y5l2SdbzzCpwVMFckXqAcsy0E4VoSWyyFJpEFTyq9Q1roKl62DDsVPilBLr5t7WzfhkrVvVWaUdGwY83z0YK0FZj4SMH+Ur/Qop8hX2Qn/KV0pcplvNTGp74Ma3SxhbQwmuuD7EeH5ggI4gAPmVvKKf6V7Vr2I3nphh0jUQqTJd29qcnZKm+GfVt9e889+t91CoR0LPSD8KBC+vlOQw/7FMJq+WfGX/jP8n5P0c1T/EnjfbKv7xOm5/D3b2FtdPnOzHO3U+6ovPHVrt90yO4c72o+6f8T8t/6Z9u1ThTX8XyVJkBzxLpStNfNUDqPIZ/6ccs0PoMrBSYhfWpXhYD3fLYDapOs1sTiW7Q2qjzMjkWAC9cQPz+18JVCbvsX3Sxgo+MHYcB8XLSyRbpOJ1DXvezq6fal3ngM4yNx2rfEV/KGNt+YbuHw0y1mKYH0iJfP5N/hjj+nmDWOD4cfVUKkGWBax469vaeGW/KsOxnuaTARUzJMPHMGc9ovSlDwSgQ1GO1WulxGQn2JeQRZxwvIOvkl+9JL21Pms1WImLY+y2yEq6ivE//adlmsdxTFBarnH7HH+sBKE5rjzd9EMAufwNU9Wr0U2GPak6gC22aEVf9ElXVpFR5qE5ldyXv2KCHidNiwTEiM9e/5zPL1R4uaqJrPRkxLAwgxKcD34lXwVDJh/3T3qjVD+bG/EpZVe4KN2e5d9FKhuNwL2uLMgER01FT0bmLHSg/BoeM7gkxJebkGd8vyd2KBnf6yc3tFJ/lhii/ZDvEYn+v+b8Upo8FlyKc6P+7msGlk13mvgJXqfYWKaf8eMtijkW8RifOXxFf4U/rrFD0V+3PzgME21hKNgpTyx7KBkoZJlLj7w4wBL02/grN56d1zvkZkx98xZlbUJTzyNGpK+tkavoBS4S4mUlKttc1P+2cU+d0TDL1kY9TkN2aXOoxdmlzL8KDksgS9+L9ArZHMJ7BNlxHFtOrU6eYiDVQVnZYj2sop/Jd52LcK5QKLkt2Rhkj4zkFoHjAEzrFhZ1rshHdQVfuRkp6zwVv3CLVPaflcg5ta+lZesLGGFikUvrXHzH8q+Q3/+/uvdZvEtjNkAyFd89f5dIS20IGKMqgpUTviNf0ar8p4JM2e/ba4c+uHzFgMj3puz1TizzVuLpLZKBQvU5udI/9CD+ijzC9IY86qMyG1TPyKmMn9zYpefKBp7U/o4dUvf8eL3lSW7y4yZiJPsFYqQjg+zKI4yqPJJbPd0dQs5+NMULOFjwxrGu3gyre05l5P9C04B90gFv0QwvHGPghYz1kB8v/8mS01sejPCs6Hzoj/LeHjs3zJBtJePQDObS9SqeNq1e84OO27PtI55olEGjjEoInz+QnqeUTMPmsbP9s7JqvKrEVf7dLbEwwFiaXs1emQMy/d44LOUrpFzjO0ESMRo+lEHCjWuMZ/a8yYCSWe6/6iHZHlV/7pRY+h6MLNQ+3cUF4vYeR6npcT7SGedn2Kp51Z5ZhmDjmW60VrSRw9t6z8WwrODvVLXf5k4SBfyDXswAAAAASUVORK5CYII="),n={};r.onload=()=>{let e=r.width/8;" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~".split("").forEach((t,r)=>{n[t]=[~~(r%e),~~(r/e)]})};let i={pen:{cursor:"crosshair",key:"q",icon:0},erasor:{cursor:"crosshair",key:"w",icon:1},bucket:{cursor:"crosshair",key:"e",icon:2},rect:{cursor:"crosshair",key:"a",icon:3},circle:{cursor:"crosshair",key:"s",icon:4},line:{cursor:"crosshair",key:"d",icon:5},select:{cursor:"cell",key:"z",icon:6},move:{cursor:"move",key:"x",icon:7},eyedropper:{cursor:"crosshair",key:"c",icon:8}};function s(e,t){let r=new window.Image;return r.src=e,t&&(r.onload=()=>{t(r)}),r}function o(e,t,r){return Math.max(Math.min(e,r),t)}let a=(e,t)=>{let r=document.createElement("canvas"),n=(()=>{if(e instanceof window.ImageData)return new window.ImageData(new Uint8ClampedArray(e.data),e.width,e.height);if(!(e instanceof window.Image))return new window.ImageData(new Uint8ClampedArray(e*t*4).fill(0),e,t);{r.width=e.width,r.height=e.height;let t=r.getContext("2d");return t.drawImage(e,0,0),t.getImageData(0,0,e.width,e.height)}})();function i(){r.width=n.width,r.height=n.height,r.getContext("2d").putImageData(n,0,0)}function s(e,t){return(t*n.width+e)*4}return{blend:"alpha",scissorRect:null,width:()=>n.width,height:()=>n.height,toImageData:()=>new window.ImageData(new Uint8ClampedArray(n.data),n.width,n.height),clone(){return a(this.toImageData())},clear(){n=new window.ImageData(new Uint8ClampedArray(n.width*n.height*4).fill(0),n.width,n.height)},set(e,t,r){if(!this.checkPt(e,t))return!1;let i=s(e,t);switch(this.blend){case"alpha":{let e=r[3]/255;n.data[i+0]=n.data[i+0]*(1-e)+r[0]*e,n.data[i+1]=n.data[i+1]*(1-e)+r[1]*e,n.data[i+2]=n.data[i+2]*(1-e)+r[2]*e,n.data[i+3]=n.data[i+3]*(1-e)+r[3]*e;break}case"replace":n.data[i+0]=r[0],n.data[i+1]=r[1],n.data[i+2]=r[2],n.data[i+3]=r[3];break;case"add":{let e=n.data[i+3]/255,t=r[3]/255;n.data[i+0]=n.data[i+0]*e+r[0]*t,n.data[i+1]=n.data[i+1]*e+r[1]*t,n.data[i+2]=n.data[i+2]*e+r[2]*t,n.data[i+3]=n.data[i+3]*e+r[3]*t}}return!0},get(e,t){let r=s(e,t),i=n.data[r+0];return[i,n.data[r+1],n.data[r+2],n.data[r+3]]},line(e,t,r,n,i){let s=r-e,o=n-t,a=Math.abs(s),l=Math.abs(o),u=0,c=s>0?1:-1,h=o>0?1:-1;if(a>l)for(let n=e,s=t;c<0?n>=r:n<=r;n+=c)this.set(n,s,i),(u+=l)<<1>=a&&(s+=h,u-=a);else for(let r=e,s=t;h<0?s>=n:s<=n;s+=h)this.set(r,s,i),(u+=a)<<1>=l&&(r+=c,u-=l)},fillRect(e,t,r,n,i){r<0&&(e+=r,r=-r),n<0&&(t+=n,n=-n);for(let s=e;s<e+r;s++)for(let e=t;e<t+n;e++)this.set(s,e,i)},strokeRect(e,t,r,n,i){r<0&&(e+=r,r=-r),n<0&&(t+=n,n=-n),this.line(e,t,e+r,t,i),this.line(e+r,t,e+r,t+n,i),this.line(e+r,t+n,e,t+n,i),this.line(e,t+n,e,t,i)},fillCircle(e,t,r,n){r=Math.abs(r);for(let i=e-r;i<=e+r;i++)for(let s=t-r;s<=t+r;s++)Math.sqrt((i-e)**2+(s-t)**2)<=r&&this.set(i,s,n)},bucket(e,t,r){if(!this.checkPt(e,t))return!1;let n=this.get(e,t);if(l(n,r))return!1;let i=[];for(i.push([e,t]);i.length;){let[e,t]=i.pop();this.checkPt(e,t)&&l(this.get(e,t),n)&&(this.set(e,t,r),i.push([e,t-1]),i.push([e-1,t]),i.push([e+1,t]),i.push([e,t+1]))}return!0},merge(e,t=0,r=0){for(let i=0;i<n.width;i++)for(let s=0;s<n.height;s++){let o=e.get(i,s);o&&i+t>=0&&i+t<n.width&&s+r>=0&&s+r<n.height&&this.set(i+t,s+r,o)}},checkPt(e,t){if(this.scissorRect){let r=this.scissorRect;return e>=r[0][0]&&e<r[1][0]&&t>=r[0][1]&&t<r[1][1]}return e>=0&&e<n.width&&t>=0&&t<n.height},clampPt:e=>[o(e[0],0,n.width),o(e[1],0,n.height)],bbox(){let e=[0,0],t=[n.width-1,n.height-1];e:for(let r=e[0];r<=t[0];r++)for(let i=e[1];i<=t[1];i++){let t=s(r,i);if(0!==n.data[t+3]){e[0]=r;break e}}e:for(let r=t[0];r>=e[0];r--)for(let i=e[1];i<=t[1];i++){let e=s(r,i);if(0!==n.data[e+3]){t[0]=r;break e}}t:for(let r=e[1];r<=t[1];r++)for(let i=e[0];i<=t[0];i++){let t=s(i,r);if(0!==n.data[t+3]){e[1]=r;break t}}t:for(let r=t[1];r>=e[1];r--)for(let i=e[0];i<=t[0];i++){let e=s(i,r);if(0!==n.data[e+3]){t[1]=r;break t}}return[e,t]},crop(e,t){let r=a(t[0]-e[0]+1,t[1]-e[1]+1);for(let n=e[0];n<=t[0];n++)for(let i=e[1];i<=t[1];i++)r.set(n-e[0],i-e[1],this.get(n,i));n=r.toImageData()},toDataURL:()=>(i(),r.toDataURL("image/png")),toPNG(){let e=this.toDataURL().replace(/^data:image\/png;base64,/,""),t=window.atob(e),r=new Uint8Array(t.length);for(let e=0;e<r.length;e++)r[e]=t.charCodeAt(e);return r.buffer},drawable:()=>(i(),r),game(){let e=this.toImageData();for(let t=0;t<n.height;t++)for(let r=0;r<n.width;r++){let i=0,s=0,o=0,a=0;for(let e=-1;e<=1;e++)for(let l=-1;l<=1;l++)if(!(0===e&&0===l)&&r-e>=0&&r+e<n.width&&t-l>=0&&t+l<n.height){let u=((t+l)*n.width+r+e)*4;n.data[u+3]>0&&(s+=n.data[u+0],o+=n.data[u+1],a+=n.data[u+2],i++)}let l=(t*n.width+r)*4;i<2||i>3?(e.data[l+0]=0,e.data[l+1]=0,e.data[l+2]=0,e.data[l+3]=0):3===i&&(e.data[l+0]=s/i,e.data[l+1]=o/i,e.data[l+2]=a/i,e.data[l+3]=255)}return a(e)}}};function l(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function u(e){return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`}function c(e){let t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t,255]}let h=Math.ceil(e.data?.width??e.width??64),f=Math.ceil(e.data?.height??e.height??64);if(h<=0)throw Error("Invalid width");if(f<=0)throw Error("Invalid height");let d=e.canvas,g=e.canvas.getContext("2d"),p={width:h,height:f,curFrame:0,frames:[a(h,f)],fCanvas:a(h,f),anims:{},tool:"pen",color:[0,0,0,255],palette:e.palette||[[0,0,0,255],[255,255,255,255],[255,255,128,255],[255,128,255,255],[0,128,128,255],[128,0,255,255],[255,0,128,255],[0,255,255,255]],view:{offset:[0,0],scale:1},state:{stack:[],offset:0},modified:!1,readOnly:e.readOnly,events:{},curAnim:null,animTimer:0,animSpeed:200,gaming:!1,gameTimer:0,gameSpeed:100},m={mouseDown:!1,mousePressed:!1,mouseMoved:!1,mousePos:[0,0],mousePosPrev:[0,0],mouseStartPos:null,grabbin:!1,delCb:()=>{},hideUI:!1,loopID:null,time:0};x(),g.imageSmoothingEnabled=!1;let v={game:{icon:14,action:function(){p.gaming=!0,p.readOnly=!0,M()}},export:{icon:13,action:()=>E("export")},save:{icon:12,action:()=>E("save")},crop:{icon:9,action:function(){let e,t;p.frames.forEach(r=>{let[n,i]=r.bbox();e&&t?(e[0]=Math.min(e[0],n[0]),e[1]=Math.min(e[1],n[0]),t[0]=Math.max(t[0],i[0]),t[1]=Math.max(t[1],i[0])):(e=n,t=i)}),p.frames.forEach(r=>r.crop(e,t)),p.width=N().width(),p.height=N().height(),M()}},undo:{icon:10,key:"shift+z",action:z},redo:{icon:11,key:"meta+shift+z",action:T}},b=document.createElement("input");function w(e){return[~~((e[0]-p.view.offset[0])/p.view.scale),~~((e[1]-p.view.offset[1])/p.view.scale)]}function y(){p.view.scale<=2||(p.view.scale--,p.view.offset[0]+=p.width/2,p.view.offset[1]+=p.height/2)}function P(){p.view.scale>=64||(p.view.scale++,p.view.offset[0]-=p.width/2,p.view.offset[1]-=p.height/2)}function x(){let e=d.width,t=d.height,r=(e-120)/p.width,n=(t-120)/p.height;p.view.scale=~~Math.min(r,n),p.view.offset=[(e-p.width*p.view.scale)/2,(t-p.height*p.view.scale)/2]}function A(e=p.curFrame){p.frames.splice(p.curFrame,0,N().clone()),e===p.curFrame&&C(p.curFrame+1),M()}function k(e=p.curFrame){p.frames.length>1&&(p.frames.splice(e,1),p.curFrame===p.frames.length&&C(p.frames.length-1)),M()}function C(e){p.curFrame=e,m.delCb=()=>{confirm(`removed frame ${e}?`)&&k(e)}}function S(e){"number"==typeof e?(p.color=p.palette[e],m.delCb=()=>{confirm("remove selected color?")&&(p.palette.splice(e,1),E("change",p.palette))}):p.color=e}function I(){C(0===p.curFrame?p.frames.length-1:p.curFrame-1)}function O(){C((p.curFrame+1)%p.frames.length)}function D(){let e=N(),[t,r]=e.scissorRect;e.blend="replace",e.fillRect(t[0],t[1],r[0]-t[0],r[1]-t[1],[0,0,0,0]),e.blend="alpha",M()}function E(e,...t){if(p.events[e])for(let r of p.events[e])r(...t)}function M(){p.state.stack.length>=64||(p.state.offset>0&&(p.state.stack.splice(p.state.stack.length-p.state.offset,p.state.offset),p.state.offset=0),p.state.stack.push({frames:j(),curFrame:p.curFrame}),E("change"))}function R(e){p.frames=e.frames.map(a),C(e.curFrame),E("change")}function z(){p.state.offset>=p.state.stack.length-1||(p.state.offset++,R(p.state.stack[p.state.stack.length-p.state.offset-1]))}function T(){0!==p.state.offset&&(p.state.offset--,R(p.state.stack[p.state.stack.length-p.state.offset-1]))}function j(){return p.frames.map(e=>e.toImageData())}function F(){p.curAnim=null,p.animTimer=0,p.readOnly=e.readOnly}function U(e,t){m.mousePressed=!0,m.mousePosPrev=[...m.mousePos],m.mousePos=[e,t],m.mouseStartPos=[...m.mousePos]}function Y(e,t,r,n){if(p.readOnly||(m.mousePosPrev=[...m.mousePos],m.mousePos=[e,t],m.mouseMoved=!0,m.grabbin&&(p.view.offset[0]+=r,p.view.offset[1]+=n),!m.mouseDown))return;let i=N(),[s,o]=w(m.mousePos),[a,l]=w(m.mousePosPrev);if(!m.mouseStartPos)return;let[u,c]=w(m.mouseStartPos);switch(p.tool){case"pen":i.line(a,l,s,o,p.color);break;case"erasor":i.blend="replace",i.line(a,l,s,o,[0,0,0,0]),i.blend="alpha";break;case"rect":p.fCanvas.clear(),p.fCanvas.fillRect(u,c,s-u,o-c,p.color);break;case"line":p.fCanvas.clear(),p.fCanvas.line(u,c,s,o,p.color);break;case"circle":p.fCanvas.clear(),p.fCanvas.fillCircle(u,c,Math.max(s-u,o-c),p.color);break;case"select":{let[e,t]=i.clampPt([u,c]),[r,n]=i.clampPt([s,o]);i.scissorRect=[[e,t],[r,n]];break}case"move":{let[e,t]=[s-a,o-l];i.scissorRect[0][0]+=e,i.scissorRect[1][0]+=e,i.scissorRect[0][1]+=t,i.scissorRect[1][1]+=t}}}function K(e,t){if(p.readOnly)return;m.mouseDown=!1,m.mousePosPrev=[m.mousePos,m.mousePos],void 0!=e&&void 0!=t&&(m.mousePos=[e,t]);let r=N(),[n,i]=w(m.mousePos);if(!m.mouseStartPos)return;let[s,o]=w(m.mouseStartPos);switch(m.mouseStartPos=null,p.tool){case"pen":case"erasor":case"bucket":M();break;case"rect":case"circle":case"line":r.merge(p.fCanvas),p.fCanvas.clear(),M();break;case"move":if(r.scissorRect){let[e,t]=[n-s,i-o];r.merge(p.fCanvas,e,t),p.fCanvas.clear(),M()}}}b.type="color",b.addEventListener("change",e=>{let t=c(e.target.value.substring(1));p.palette.push(t),S(t),E("change",p.palette)}),m.loopID=window.requestAnimationFrame(function e(s){let o=s-m.time;if(m.time=s,p.gaming&&(p.gameTimer+=o,p.gameTimer>=p.gameSpeed&&(p.frames[p.curFrame]=N().game(),p.gameTimer=0)),p.curAnim&&(p.animTimer+=o,p.animTimer>=p.animSpeed)){let e=p.anims[p.curAnim];e.to<e.from?p.curFrame>e.to?I():C(e.from):p.curFrame<e.to?O():C(e.from),p.animTimer=0}let a=!1,h=!1,f=null,y=N(),P=d.width,x=d.height,k=p.view.scale,M=p.view.offset[0],R=p.view.offset[1];function z(e,t,r={}){let n;let i=r.lineWidth||2;return{width:e,height:t,update(){n&&(r.click||r.hover)&&function(e,t,r,n){r<0&&(e+=r,r=-r),n<0&&(t+=n,n=-n);let[i,s]=m.mousePos;return i>=e&&i<=e+r&&s>=t&&s<=t+n}(n.x,n.y,e,t)&&(a=!0,r.hover&&r.hover(),m.mousePressed&&!h&&(r.click&&r.click(),h=!0))},draw(){n=g.getTransform().transformPoint(),this.update(),r.bg&&(g.fillStyle=u(r.bg),g.fillRect(0,0,e,t)),r.border&&(g.lineWidth=i,g.strokeStyle=u(r.border),g.strokeRect(0,0,e,t))}}}function T(e,t={}){let r=t.align||"left",n=t.margin||0,i=t.padding||0,s=0,o=0;for(let t of e)t&&(s=Math.max(t.width,s),o+=t.height+n);let a=s+2*i,l=o+2*i,u=z(a,l,t);return{width:a,height:l,update(){e.reverse().forEach(e=>{e.update()})},draw(){u.draw(),g.save(),g.translate(i,i),e.forEach(e=>{if(!e)return;let t=(()=>{switch(r){case"left":return 0;case"center":return(s-e.width)/2;case"left":return s-e.width}})();g.translate(t,0),e.draw(),g.translate(-t,e.height+n)}),g.restore()}}}function j(e,t={}){let r=t.align||"top",n=t.margin||0,i=t.padding||0,s=0,o=0;for(let t of e)t&&(s+=t.width,o=Math.max(t.height,o));let a=s+2*i,l=o+2*i,u=z(a,l,t);return{width:a,height:l,update(){e.reverse().forEach(e=>{e.update()})},draw(){u.draw(),g.save(),g.translate(i,i),e.forEach(e=>{if(!e)return;let t=(()=>{switch(r){case"top":return 0;case"center":return(o-2*i-e.height)/2;case"bottom":return o-2*i-e.height}})();g.translate(0,t),e.draw(),g.translate(e.width+n,-t)}),g.restore()}}}function U(e,t={}){let r=t.padding||0,n=t.sw||e.width,i=t.sh||e.height,s=(t.width||n)+2*r,o=(t.height||i)+2*r,a=s+2*r,l=o+2*r,u=t.sx||0,c=t.sy||0;t.lineWidth;let h=z(a,l,t);return{width:a,height:l,update(){h.update()},draw(){h.draw(),g.drawImage(e,u,c,n,i,r,r,s,o)}}}function Y(e,t={}){e+="";let i=t.size||12,s=t.padding||0,o=e.length*i+2*s,a=i+2*s,l=t.color||[0,0,0,255];t.lineWidth;let c=z(o,a,t);return{width:o,height:a,update(){c.update()},draw(){c.draw(),g.fillStyle=u(l);let t=e.split(""),o=0;for(let e of t)if(n[e]){let[t,a]=n[e];g.drawImage(r,8*t,8*a,8,8,s+o,s,i,i),o+=i}}}}function K(e,t,r){t||r?(function(e,t,r,n={}){return{width:r.width,height:r.height,update(){r.update()},draw(){g.save(),g.translate(e,t),r.draw(),g.restore()}}})(t,r,e).draw():e.draw()}function L(e,t,r,n={}){let i=z(e,t,n);return{width:e,height:t,update(){r.reverse().forEach(([e])=>{e.update()})},draw(){i.draw(),r.forEach(([e,[t,r]])=>{g.save(),g.translate(t,r),e.draw(),g.restore()})}}}let _=z(P,x,{bg:[170,170,170,255]}),B=j([...p.frames.map((e,t)=>{let r=t===p.curFrame;return Y(t,{padding:r?6:3,bg:r?[255,255,255,255]:[230,230,230,255],border:[0,0,0,255],size:16,click(){C(t)}})}),!p.readOnly&&Y("+",{padding:3,bg:[230,230,230,255],border:[0,0,0,255],size:16,click(){A()}})],{align:"bottom"}),H=z(y.width()*k,y.height()*k,{bg:[255,255,255,255]}),V=z(y.width()*k,y.height()*k,{border:[0,0,0,255]});function W(e,t={}){let r=t.dx||0,n=t.dy||0;return{width:e.width()*k,height:e.height()*k,draw(){g.save(),g.scale(k,k),g.translate(r,n),g.drawImage(e.drawable(),0,0),g.restore()}}}if(L(P,x,[[_,[0,0]],[H,[M,R]],[W(y),[M,R]],[(()=>{if("move"!==p.tool||!m.mouseStartPos)return W(p.fCanvas);{let[e,t]=w(m.mousePos),[r,n]=w(m.mouseStartPos),[i,s]=[e-r,t-n];return W(p.fCanvas,{dx:i,dy:s})}})(),[M,R]],[B,[M,R-B.height]],[V,[M,R]]]).draw(),y.scissorRect){let e=y.scissorRect[0],t=y.scissorRect[1];g.lineDashOffset=s/100,g.strokeStyle=u([0,0,0,255]),g.setLineDash([5,5]),g.strokeRect(e[0]*k+M,e[1]*k+R,(t[0]-e[0])*k,(t[1]-e[1])*k),g.strokeStyle=u([255,255,255,255]),g.setLineDash([0,5,5,0]),g.strokeRect(e[0]*k+M,e[1]*k+R,(t[0]-e[0])*k,(t[1]-e[1])*k),g.setLineDash([])}if(!p.readOnly){let[e,t]=w(m.mousePos),r=e*k+M,n=t*k+R;if(y.checkPt(e,t))switch(p.tool){case"pen":case"rect":case"line":case"circle":case"bucket":K(z(k,k,{bg:p.color}),r,n);break;case"erasor":K(z(k,k,{bg:[255,255,255,255],border:[0,0,0,255]}),r,n)}}let J={padding:3,size:16,bg:[255,255,255,255],border:[0,0,0,255]},q=T([...p.palette.map((e,t)=>z(24,24,{bg:e,border:[0,0,0,255],lineWidth:l(e,p.color)?4:2,click(){S(t)}})),Y("+",{size:24,bg:[255,255,255,255],border:[0,0,0,255],click(){if(navigator.userAgent.match(/safari/i)){let e=prompt("Enter hex code for new color:");if(e?.length===6||e?.length===7){let t=c(e.startsWith("#")?e.substring(1):e);p.palette.push(t),S(p.palette.length-1),E("change",p.palette)}}else b.click()}})]),G=T([...Object.keys(i).map(e=>{let r=i[e];return U(t,{sx:16*r.icon,sw:16,sh:16,width:32,height:32,bg:[255,255,255,255],border:[0,0,0,255],lineWidth:p.tool===e?4:2,click(){p.tool=e},hover(){f={msg:`${e} (${r.key})`,pos:[-1,1]}}})})]),X=j([...Object.keys(v).map(e=>{let r=v[e];return U(t,{sx:16*r.icon,sw:16,sh:16,width:32,height:32,bg:[255,255,255,255],border:[0,0,0,255],click(){r.action()},hover(){f={msg:`${e}`,pos:[-1,-1]}}})})]),Q=T([!p.readOnly&&Y("+",{...J,click(){let e=prompt("add anim:");e&&(p.anims[e]={from:0,to:0,loop:!0},E("change"))}}),...Object.keys(p.anims).map(e=>{let t=p.anims[e],r=e===p.curAnim;return j([Y((r?">":"")+e,{...J,lineWidth:r?4:2,click(){var t;t=e,p.curAnim?F():(p.curAnim=t,p.animTimer=0,C(p.anims[t].from),p.readOnly=!0)}}),Y(t.from,{...J,lineWidth:r?4:2,click(){t.from=(t.from+1)%p.frames.length,E("change")}}),Y(t.to,{...J,lineWidth:r?4:2,click(){t.to=(t.to+1)%p.frames.length,E("change")}})])})]);if(m.hideUI||(function(e,t,r,n={}){return L(e,t,r.filter(e=>e).map(([r,n])=>[r,[n[0]*(e-r.width),n[1]*(t-r.height)]]),n)})(P,x,[!p.readOnly&&[q,[0,0]],!p.readOnly&&[G,[1,0]],!p.readOnly&&[X,[1,1]],[Q,[0,1]]]).draw(),f){let[e,t]=m.mousePos,r=Y(f.msg,{padding:3,bg:[255,255,255,255],border:[0,0,0,255]}),n=r.width*(f.pos[0]-1)/2+6*f.pos[0],i=r.height*(f.pos[1]-1)/2+6*f.pos[1];K(r,e+n,t+i)}if(a?d.style.cursor="pointer":m.grabbin?d.style.cursor="grab":d.style.cursor=i[p.tool].cursor,m.mousePressed&&!h){let[e,t]=w(m.mousePos);if(m.mouseDown=!0,!p.readOnly)switch(p.tool){case"pen":y.set(e,t,p.color);break;case"erasor":y.blend="replace",y.set(e,t,[0,0,0,0]),y.blend="alpha";break;case"bucket":y.bucket(e,t,p.color);break;case"move":y.scissorRect&&(p.fCanvas.scissorRect=y.scissorRect,p.fCanvas.merge(y),p.fCanvas.scissorRect=null,D());break;case"eyedropper":p.color=y.get(e,t)}}m.mousePressed=!1,m.loopID=window.requestAnimationFrame(e)});let L={wheel(e){e.preventDefault(),e.altKey?e.deltaY<0?P():e.deltaY>0&&y():(p.view.offset[0]-=e.deltaX,p.view.offset[1]-=e.deltaY)},mousedown(e){U(e.offsetX,e.offsetY)},mousemove(e){Y(e.offsetX,e.offsetY,e.movementX,e.movementY)},mouseup(e){K(e.offsetX,e.offsetY)},touchstart(e){e.preventDefault();let t=e.touches[0];U(t.clientX,t.clientY)},touchmove(e){let t=e.touches[0];Y(t.clientX,t.clientY,t.movementX,t.movementY)},touchend(e){let t=e.touches[0];K(t?.clientX,t?.clientY)},touchcancel(e){let t=e.touches[0];K(t?.clientX,t?.clientY)},keydown(t){if(!t.metaKey){for(let e in i)if(i[e].key===t.key){p.tool=e;return}}let r=N();switch(t.key){case"-":y();break;case"=":P();break;case"0":x();break;case"ArrowLeft":I();break;case"ArrowRight":O();break;case" ":m.grabbin=!0,t.preventDefault();break;case"Escape":F(),p.gaming=!1,p.gameTimer=0,p.readOnly=e.readOnly,z()}if(!p.readOnly)switch(t.key){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{let e=parseInt(t.key,10)-1;p.palette[e]&&S(e);break}case"+":A();break;case"_":k();break;case"z":t.metaKey&&(t.preventDefault(),t.shiftKey?T():z());break;case"s":t.metaKey&&(t.preventDefault(),E("save"));break;case"l":t.metaKey&&(t.preventDefault(),E("load"));break;case"Backspace":r.scissorRect?(D(),r.scissorRect=null):m.delCb();break;case"Escape":r.scissorRect=null;break;case"Tab":t.preventDefault(),m.hideUI=!m.hideUI}},keyup(e){" "===e.key&&(m.grabbin=!1)}};for(let e in d.onselectstart=()=>!1,L)d.addEventListener(e,L[e]);function N(){return p.frames[p.curFrame]}function _(){return{version:"1",width:p.width,height:p.height,palette:p.palette,anims:p.anims,frames:p.frames.map(e=>e.toDataURL())}}function B(e){if(!e.width||!e.height)throw Error("Expected width and height from load data");return(null===p.width||void 0===p.width)&&(p.width=e.width),(null===p.height||void 0===p.height)&&(p.height=e.height),p.fCanvas=a(e.width,e.height),x(),(null===p.palette||void 0===p.palette)&&(p.palette=e.palette),(null===p.anims||void 0===p.anims)&&(p.anims=e.anims),e.frames?Promise.all(e.frames.map((t,r)=>(function(e){let t=new Image;return t.src=e,new Promise((e,r)=>{t.onload=()=>{e(t)},t.onerror=()=>{r()}})})(t).then(e=>a(e)).then(t=>{if(t.width()!==e.width||t.height()!==e.height)throw Error("Frame size doesn't match actual size");p.frames[r]=t}))).then(()=>{p.frames.length=e.frames.length,p.curFrame>=p.frames.length&&C(p.frames.length-1)}):Promise.resolve()}function H(e,...t){let r=URL.createObjectURL(new Blob(...t)),n=document.createElement("a");n.href=r,n.download=e,n.click()}return p.state.stack=[{frames:j(),curFrame:p.curFrame}],e.data&&B(e.data),{frames:function(){return p.frames},curFrame:N,on:function(e,t){p.events[e]||(p.events[e]=[]),p.events[e].push(t)},setTool:function(e){if(!i[e])throw Error(`no tool called ${e} bro`);p.tool=e},setColor:S,setPalette:function(e){p.palette=e},save:_,load:B,undo:z,redo:T,pushState:M,scaleUp:P,scaleDown:y,scaleFit:x,newFrame:A,delFrame:k,prevFrame:I,nextFrame:O,download:function(e){H(e,[JSON.stringify(_())])},downloadPNG:function(e){H(e,[N().toPNG()])},cleanUp:function(){for(let e in L)d.removeEventListener(e,L[e]);window.cancelAnimationFrame(m.loopID)}}}},33024:function(e){var t=1/0,r=0/0,n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,l=Object.prototype.toString,u=Math.max,c=Math.min;function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function f(e){return e?(e=d(e))===t||e===-t?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}function d(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return r;if(h(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=h(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var c=s.test(e);return c||o.test(e)?a(e.slice(2),c?2:8):i.test(e)?r:+e}e.exports=function(e,t,r){var n,i,s;return t=f(t),void 0===r?(r=t,t=0):r=f(r),(n=e=d(e))>=c(i=t,s=r)&&n<u(i,s)}},38174:function(e,t,r){var n=r(9440),i=r(96659),s=r(97230);function o(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=s,e.exports=o},84330:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},6620:function(e,t,r){var n=r(83977),i=r(55073);e.exports=function e(t,r,s,o,a){return t===r||(null!=t&&null!=r&&(i(t)||i(r))?n(t,r,s,o,e,a):t!=t&&r!=r)}},83977:function(e,t,r){var n=r(5929),i=r(22684),s=r(7456),o=r(18120),a=r(81887),l=r(24669),u=r(61563),c=r(73806),h="[object Arguments]",f="[object Array]",d="[object Object]",g=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,p,m,v){var b=l(e),w=l(t),y=b?f:a(e),P=w?f:a(t);y=y==h?d:y,P=P==h?d:P;var x=y==d,A=P==d,k=y==P;if(k&&u(e)){if(!u(t))return!1;b=!0,x=!1}if(k&&!x)return v||(v=new n),b||c(e)?i(e,t,r,p,m,v):s(e,t,y,r,p,m,v);if(!(1&r)){var C=x&&g.call(e,"__wrapped__"),S=A&&g.call(t,"__wrapped__");if(C||S){var I=C?e.value():e,O=S?t.value():t;return v||(v=new n),m(I,O,r,p,v)}}return!!k&&(v||(v=new n),o(e,t,r,p,m,v))}},29880:function(e){e.exports=function(e,t){return e.has(t)}},22684:function(e,t,r){var n=r(38174),i=r(84330),s=r(29880);e.exports=function(e,t,r,o,a,l){var u=1&r,c=e.length,h=t.length;if(c!=h&&!(u&&h>c))return!1;var f=l.get(e),d=l.get(t);if(f&&d)return f==t&&d==e;var g=-1,p=!0,m=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++g<c;){var v=e[g],b=t[g];if(o)var w=u?o(b,v,g,t,e,l):o(v,b,g,e,t,l);if(void 0!==w){if(w)continue;p=!1;break}if(m){if(!i(t,function(e,t){if(!s(m,t)&&(v===e||a(v,e,r,o,l)))return m.push(t)})){p=!1;break}}else if(!(v===b||a(v,b,r,o,l))){p=!1;break}}return l.delete(e),l.delete(t),p}},7456:function(e,t,r){var n=r(74396),i=r(92210),s=r(42448),o=r(22684),a=r(7523),l=r(79967),u=n?n.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,r,n,u,h,f){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!h(new i(e),new i(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=a;case"[object Set]":var g=1&n;if(d||(d=l),e.size!=t.size&&!g)break;var p=f.get(e);if(p)return p==t;n|=2,f.set(e,t);var m=o(d(e),d(t),n,u,h,f);return f.delete(e),m;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},18120:function(e,t,r){var n=r(69698),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,s,o,a){var l=1&r,u=n(e),c=u.length;if(c!=n(t).length&&!l)return!1;for(var h=c;h--;){var f=u[h];if(!(l?f in t:i.call(t,f)))return!1}var d=a.get(e),g=a.get(t);if(d&&g)return d==t&&g==e;var p=!0;a.set(e,t),a.set(t,e);for(var m=l;++h<c;){var v=e[f=u[h]],b=t[f];if(s)var w=l?s(b,v,f,t,e,a):s(v,b,f,e,t,a);if(!(void 0===w?v===b||o(v,b,r,s,a):w)){p=!1;break}m||(m="constructor"==f)}if(p&&!m){var y=e.constructor,P=t.constructor;y!=P&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof P&&P instanceof P)&&(p=!1)}return a.delete(e),a.delete(t),p}},7523:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}},96659:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},97230:function(e){e.exports=function(e){return this.__data__.has(e)}},79967:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},31223:function(e,t,r){var n=r(6620);e.exports=function(e,t){return n(e,t)}},33859:function(e,t,r){var n=r(3983),i=r(7311);e.exports={parse:function(e){var t=n.parse(e.toString());return i.compile(t)}}},7311:function(e){"use strict";e.exports={compile:function(e){var t=[],r=[],n="",i=Object.create(null),s=i;return function(e){for(var c,h=0;h<e.length;h++)switch((c=e[h]).type){case"Assign":(function(e){var i,l=e.key,u=e.value,c=e.line,h=e.column;i=n?n+"."+l:l,void 0!==s[l]&&o("Cannot redefine existing key '"+i+"'.",c,h),s[l]=function e(t){return"Array"===t.type?function(t){for(var r=null,n=0;n<t.length;n++){var i=t[n];null===r?r=i.type:i.type!==r&&o("Cannot add value of type "+i.type+" to array of type "+r+".",i.line,i.column)}return t.map(e)}(t.value):"InlineTable"===t.type?function t(r){for(var n=Object.create(null),i=0;i<r.length;i++){var s=r[i];"InlineTable"===s.value.type?n[s.key]=t(s.value.value):"InlineTableValue"===s.type&&(n[s.key]=e(s.value))}return n}(t.value):t.value}(u),a(i)||(t.push(i),r.push(i))})(c);break;case"ObjectPath":(function(e){var r=e.value,c=r.map(u).join("."),h=e.line,f=e.column;a(c)&&o("Cannot redefine existing key '"+r+"'.",h,f),t.push(c),s=l(i,r,Object.create(null),h,f),n=r})(c);break;case"ArrayPath":(function(e){var r=e.value,c=r.map(u).join("."),h=e.line,f=e.column;if(a(c)||t.push(c),(t=t.filter(function(e){return 0!==e.indexOf(c)})).push(c),s=l(i,r,[],h,f),n=c,s instanceof Array){var d=Object.create(null);s.push(d),s=d}else o("Cannot redefine existing key '"+r+"'.",h,f)})(c)}return i}(e);function o(e,t,r){var n=Error(e);throw n.line=t,n.column=r,n}function a(e){return -1!==t.indexOf(e)}function l(e,t,n,i,s){var a=[],l="";t.join(".");for(var u=e,c=0;c<t.length;c++){var h=t[c];a.push(h),l=a.join("."),void 0===u[h]?c===t.length-1?u[h]=n:u[h]=Object.create(null):c!==t.length-1&&r.indexOf(l)>-1&&o("Cannot redefine existing key '"+l+"'.",i,s),(u=u[h])instanceof Array&&u.length&&c<t.length-1&&(u=u[u.length-1])}return u}function u(e){return e.indexOf(".")>-1?'"'+e+'"':e}}}},3983:function(e){e.exports=function(){function e(e,t,r,n,i,s){this.message=e,this.expected=t,this.found=r,this.offset=n,this.line=i,this.column=s,this.name="SyntaxError"}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),{SyntaxError:e,parse:function(t){var r,n,i,s,o,a=arguments.length>1?arguments[1]:{},l={},u={start:eO},c=eO,h={type:"literal",value:"#",description:'"#"'},f=void 0,d={type:"any",description:"any character"},g={type:"literal",value:"[",description:'"["'},p={type:"literal",value:"]",description:'"]"'},m=function(e){e6(e8("ObjectPath",e,ek,eC))},v=function(e){e6(e8("ArrayPath",e,ek,eC))},b=function(e){return e},w={type:"literal",value:".",description:'"."'},y={type:"literal",value:"=",description:'"="'},P=function(e,t){e6(e8("Assign",t,ek,eC,e))},x=function(e){return e.value},A={type:"literal",value:'"""',description:'"\\"\\"\\""'},k=function(e){return e8("String",e.join(""),ek,eC)},C={type:"literal",value:'"',description:'"\\""'},S={type:"literal",value:"'''",description:"\"'''\""},I={type:"literal",value:"'",description:'"\'"'},O=function(e){return e},D={type:"literal",value:"\\",description:'"\\\\"'},E={type:"literal",value:"e",description:'"e"'},M={type:"literal",value:"E",description:'"E"'},R={type:"literal",value:"+",description:'"+"'},z=function(e){return e.join("")},T={type:"literal",value:"-",description:'"-"'},j=function(e){return"-"+e.join("")},F="true",U={type:"literal",value:"true",description:'"true"'},Y="false",K={type:"literal",value:"false",description:'"false"'},L=function(e){return e},N={type:"literal",value:",",description:'","'},_={type:"literal",value:"{",description:'"{"'},B={type:"literal",value:"}",description:'"}"'},H=function(e,t){return e8("InlineTableValue",t,ek,eC,e)},V={type:"literal",value:":",description:'":"'},W=function(e){return e.join("")},J={type:"literal",value:"T",description:'"T"'},q={type:"literal",value:"Z",description:'"Z"'},G=/^[ \t]/,X={type:"class",value:"[ \\t]",description:"[ \\t]"},Q={type:"literal",value:"\n",description:'"\\n"'},Z={type:"literal",value:"\r",description:'"\\r"'},$=/^[0-9a-f]/i,ee={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},et=/^[0-9]/,er={type:"class",value:"[0-9]",description:"[0-9]"},en={type:"literal",value:"_",description:'"_"'},ei=/^[A-Za-z0-9_\-]/,es={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},eo={type:"literal",value:'\\"',description:'"\\\\\\""'},ea={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},el={type:"literal",value:"\\b",description:'"\\\\b"'},eu={type:"literal",value:"\\t",description:'"\\\\t"'},ec={type:"literal",value:"\\n",description:'"\\\\n"'},eh={type:"literal",value:"\\f",description:'"\\\\f"'},ef={type:"literal",value:"\\r",description:'"\\\\r"'},ed={type:"literal",value:"\\U",description:'"\\\\U"'},eg=function(e){return function(e,t,r){var n=parseInt("0x"+e);if(isFinite(n)&&Math.floor(n)==n&&!(n<0)&&!(n>1114111)&&(!(n>55295)||!(n<57344)))return function(){var e,t,r=[],n=-1,i=arguments.length;if(!i)return"";for(var s="";++n<i;){var o=Number(arguments[n]);o<=65535?r.push(o):(o-=65536,e=(o>>10)+55296,t=o%1024+56320,r.push(e,t)),(n+1==i||r.length>16384)&&(s+=String.fromCharCode.apply(null,r),r.length=0)}return s}(n);!function(e,t,r){var n=Error(e);throw n.line=t,n.column=r,n}("Invalid Unicode escape code: "+e,t,r)}(e.join(""))},ep={type:"literal",value:"\\u",description:'"\\\\u"'},em=0,ev=0,eb=0,ew={line:1,column:1,seenCR:!1},ey=0,eP=[],ex=0,eA={};if("startRule"in a){if(!(a.startRule in u))throw Error("Can't start parsing from rule \""+a.startRule+'".');c=u[a.startRule]}function ek(){return eS(ev).line}function eC(){return eS(ev).column}function eS(e){return eb!==e&&(eb>e&&(eb=0,ew={line:1,column:1,seenCR:!1}),function(e,r,n){var i,s;for(i=r;i<n;i++)"\n"===(s=t.charAt(i))?(!e.seenCR&&e.line++,e.column=1,e.seenCR=!1):"\r"===s||"\u2028"===s||"\u2029"===s?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(ew,eb,e),eb=e),ew}function eI(e){em<ey||(em>ey&&(ey=em,eP=[]),eP.push(e))}function eO(){var e,t,r,n=49*em+0,i=eA[n];if(i)return em=i.nextPos,i.result;for(e=em,t=[],r=eD();r!==l;)t.push(r),r=eD();return t!==l&&(ev=e,t=e3),e=t,eA[n]={nextPos:em,result:e},e}function eD(){var e,r,n,i,s,o,a,u,c,h,f=49*em+1,d=eA[f];if(d)return em=d.nextPos,d.result;for(i=em,s=[],o=eQ();o!==l;)s.push(o),o=eQ();if(s!==l){if((o=(n=eA[r=49*em+2])?(em=n.nextPos,n.result):((e=eE())===l&&(e=function(){var e,r,n,i,s,o,a=49*em+4,u=eA[a];if(u)return em=u.nextPos,u.result;if(e=em,91===t.charCodeAt(em)?(r="[",em++):(r=l,0===ex&&eI(g)),r!==l){for(n=[],i=eQ();i!==l;)n.push(i),i=eQ();if(n!==l){if((i=eM())!==l){for(s=[],o=eQ();o!==l;)s.push(o),o=eQ();s!==l?(93===t.charCodeAt(em)?(o="]",em++):(o=l,0===ex&&eI(p)),o!==l?(ev=e,e=r=m(i)):(em=e,e=l)):(em=e,e=l)}else em=e,e=l}else em=e,e=l}else em=e,e=l;return eA[a]={nextPos:em,result:e},e}())===l&&(e=function(){var e,r,n,i,s,o,a,u,c=49*em+5,h=eA[c];if(h)return em=h.nextPos,h.result;if(e=em,91===t.charCodeAt(em)?(r="[",em++):(r=l,0===ex&&eI(g)),r!==l){if(91===t.charCodeAt(em)?(n="[",em++):(n=l,0===ex&&eI(g)),n!==l){for(i=[],s=eQ();s!==l;)i.push(s),s=eQ();if(i!==l){if((s=eM())!==l){for(o=[],a=eQ();a!==l;)o.push(a),a=eQ();o!==l?(93===t.charCodeAt(em)?(a="]",em++):(a=l,0===ex&&eI(p)),a!==l?(93===t.charCodeAt(em)?(u="]",em++):(u=l,0===ex&&eI(p)),u!==l?(ev=e,e=r=v(s)):(em=e,e=l)):(em=e,e=l)):(em=e,e=l)}else em=e,e=l}else em=e,e=l}else em=e,e=l}else em=e,e=l;return eA[c]={nextPos:em,result:e},e}())===l&&(e=function(){var e,r,n,i,s,o,a=49*em+9,u=eA[a];if(u)return em=u.nextPos,u.result;if(e=em,(r=eT())!==l){for(n=[],i=eQ();i!==l;)n.push(i),i=eQ();if(n!==l){if(61===t.charCodeAt(em)?(i="=",em++):(i=l,0===ex&&eI(y)),i!==l){for(s=[],o=eQ();o!==l;)s.push(o),o=eQ();s!==l&&(o=eF())!==l?(ev=e,e=r=P(r,o)):(em=e,e=l)}else em=e,e=l}else em=e,e=l}else em=e,e=l;if(e===l){if(e=em,(r=ej())!==l){for(n=[],i=eQ();i!==l;)n.push(i),i=eQ();if(n!==l){if(61===t.charCodeAt(em)?(i="=",em++):(i=l,0===ex&&eI(y)),i!==l){for(s=[],o=eQ();o!==l;)s.push(o),o=eQ();s!==l&&(o=eF())!==l?(ev=e,e=r=P(r,o)):(em=e,e=l)}else em=e,e=l}else em=e,e=l}else em=e,e=l}return eA[a]={nextPos:em,result:e},e}()),eA[r]={nextPos:em,result:e},e))!==l){for(a=[],u=eQ();u!==l;)a.push(u),u=eQ();if(a!==l){for(u=[],c=eE();c!==l;)u.push(c),c=eE();if(u!==l){if(c=[],(h=eZ())!==l)for(;h!==l;)c.push(h),h=eZ();else c=l;c===l&&(c=e0()),c!==l?i=s=[s,o,a,u,c]:(em=i,i=l)}else em=i,i=l}else em=i,i=l}else em=i,i=l}else em=i,i=l;if(i===l){if(i=em,s=[],(o=eQ())!==l)for(;o!==l;)s.push(o),o=eQ();else s=l;if(s!==l){if(o=[],(a=eZ())!==l)for(;a!==l;)o.push(a),a=eZ();else o=l;o===l&&(o=e0()),o!==l?i=s=[s,o]:(em=i,i=l)}else em=i,i=l;i===l&&(i=eZ())}return eA[f]={nextPos:em,result:i},i}function eE(){var e,r,n,i,s,o,a=49*em+3,u=eA[a];if(u)return em=u.nextPos,u.result;if(e=em,35===t.charCodeAt(em)?(r="#",em++):(r=l,0===ex&&eI(h)),r!==l){for(n=[],i=em,s=em,ex++,(o=eZ())===l&&(o=e0()),ex--,o===l?s=f:(em=s,s=l),s!==l?(t.length>em?(o=t.charAt(em),em++):(o=l,0===ex&&eI(d)),o!==l?i=s=[s,o]:(em=i,i=l)):(em=i,i=l);i!==l;)n.push(i),i=em,s=em,ex++,(o=eZ())===l&&(o=e0()),ex--,o===l?s=f:(em=s,s=l),s!==l?(t.length>em?(o=t.charAt(em),em++):(o=l,0===ex&&eI(d)),o!==l?i=s=[s,o]:(em=i,i=l)):(em=i,i=l);n!==l?e=r=[r,n]:(em=e,e=l)}else em=e,e=l;return eA[a]={nextPos:em,result:e},e}function eM(){var e,t,r,n,i,s=49*em+6,o=eA[s];if(o)return em=o.nextPos,o.result;if(r=em,n=[],(i=ez())!==l)for(;i!==l;)n.push(i),i=ez();else n=l;return n!==l&&(i=eR())!==l?(ev=r,e=n,t=i,r=n=e.concat(t)):(em=r,r=l),r===l&&(r=em,(n=eR())!==l&&(ev=r,n=[n]),r=n),eA[s]={nextPos:em,result:r},r}function eR(){var e,t,r,n,i,s=49*em+7,o=eA[s];if(o)return em=o.nextPos,o.result;for(e=em,t=[],r=eQ();r!==l;)t.push(r),r=eQ();if(t!==l){if((r=eT())!==l){for(n=[],i=eQ();i!==l;)n.push(i),i=eQ();n!==l?(ev=e,e=t=b(r)):(em=e,e=l)}else em=e,e=l}else em=e,e=l;if(e===l){for(e=em,t=[],r=eQ();r!==l;)t.push(r),r=eQ();if(t!==l){if((r=ej())!==l){for(n=[],i=eQ();i!==l;)n.push(i),i=eQ();n!==l?(ev=e,e=t=b(r)):(em=e,e=l)}else em=e,e=l}else em=e,e=l}return eA[s]={nextPos:em,result:e},e}function ez(){var e,r,n,i,s,o,a,u=49*em+8,c=eA[u];if(c)return em=c.nextPos,c.result;for(e=em,r=[],n=eQ();n!==l;)r.push(n),n=eQ();if(r!==l){if((n=eT())!==l){for(i=[],s=eQ();s!==l;)i.push(s),s=eQ();if(i!==l){if(46===t.charCodeAt(em)?(s=".",em++):(s=l,0===ex&&eI(w)),s!==l){for(o=[],a=eQ();a!==l;)o.push(a),a=eQ();o!==l?(ev=e,e=r=b(n)):(em=e,e=l)}else em=e,e=l}else em=e,e=l}else em=e,e=l}else em=e,e=l;if(e===l){for(e=em,r=[],n=eQ();n!==l;)r.push(n),n=eQ();if(r!==l){if((n=ej())!==l){for(i=[],s=eQ();s!==l;)i.push(s),s=eQ();if(i!==l){if(46===t.charCodeAt(em)?(s=".",em++):(s=l,0===ex&&eI(w)),s!==l){for(o=[],a=eQ();a!==l;)o.push(a),a=eQ();o!==l?(ev=e,e=r=b(n)):(em=e,e=l)}else em=e,e=l}else em=e,e=l}else em=e,e=l}else em=e,e=l}return eA[u]={nextPos:em,result:e},e}function eT(){var e,t,r,n=49*em+10,i=eA[n];if(i)return em=i.nextPos,i.result;if(e=em,t=[],(r=e5())!==l)for(;r!==l;)t.push(r),r=e5();else t=l;return t!==l&&(ev=e,t=t.join("")),e=t,eA[n]={nextPos:em,result:e},e}function ej(){var e,t,r=49*em+11,n=eA[r];return n?(em=n.nextPos,n.result):(e=em,(t=eU())!==l&&(ev=e,t=x(t)),(e=t)===l&&(e=em,(t=eY())!==l&&(ev=e,t=x(t)),e=t),eA[r]={nextPos:em,result:e},e)}function eF(){var e,r,n,i,s,o,a,u,c,h,f,d,m,v,b,w,y,P,x,C,I,O,D,z,j,L,N,H,G,X,Q,Z,$,ee,et,er,en,ei,es,eo,ea,el,eu,ec,eh,ef,ed,eg,ep,eb,ew,ey,eP,eS,eO,eD,eE,eM=49*em+12,eR=eA[eM];return eR?(em=eR.nextPos,eR.result):((eE=(n=eA[r=49*em+13])?(em=n.nextPos,n.result):((e=function(){var e,r,n,i,s,o=49*em+14,a=eA[o];if(a)return em=a.nextPos,a.result;if(e=em,'"""'===t.substr(em,3)?(r='"""',em+=3):(r=l,0===ex&&eI(A)),r!==l){if((n=eZ())===l&&(n=null),n!==l){for(i=[],s=eN();s!==l;)i.push(s),s=eN();i!==l?('"""'===t.substr(em,3)?(s='"""',em+=3):(s=l,0===ex&&eI(A)),s!==l?(ev=e,e=r=k(i)):(em=e,e=l)):(em=e,e=l)}else em=e,e=l}else em=e,e=l;return eA[o]={nextPos:em,result:e},e}())===l&&(e=eU())===l&&(e=function(){var e,r,n,i,s,o=49*em+16,a=eA[o];if(a)return em=a.nextPos,a.result;if(e=em,"'''"===t.substr(em,3)?(r="'''",em+=3):(r=l,0===ex&&eI(S)),r!==l){if((n=eZ())===l&&(n=null),n!==l){for(i=[],s=e_();s!==l;)i.push(s),s=e_();i!==l?("'''"===t.substr(em,3)?(s="'''",em+=3):(s=l,0===ex&&eI(S)),s!==l?(ev=e,e=r=k(i)):(em=e,e=l)):(em=e,e=l)}else em=e,e=l}else em=e,e=l;return eA[o]={nextPos:em,result:e},e}())===l&&(e=eY()),eA[r]={nextPos:em,result:e},e))===l&&(eE=(el=eA[ea=49*em+38])?(em=el.nextPos,el.result):((er=em,(en=eX())!==l&&(84===t.charCodeAt(em)?(ei="T",em++):(ei=l,0===ex&&eI(J)),ei!==l&&(es=(w=eA[b=49*em+36])?(em=w.nextPos,w.result):(i=em,s=em,(o=e2())!==l&&(a=e2())!==l?(58===t.charCodeAt(em)?(u=":",em++):(u=l,0===ex&&eI(V)),u!==l&&(c=e2())!==l&&(h=e2())!==l?(58===t.charCodeAt(em)?(f=":",em++):(f=l,0===ex&&eI(V)),f!==l&&(d=e2())!==l&&(m=e2())!==l?((v=eG())===l&&(v=null),v!==l?s=o=[o,a,u,c,h,f,d,m,v]:(em=s,s=l)):(em=s,s=l)):(em=s,s=l)):(em=s,s=l),s!==l&&(ev=i,s=W(s)),i=s,eA[b]={nextPos:em,result:i},i))!==l&&(90===t.charCodeAt(em)?(eo="Z",em++):(eo=l,0===ex&&eI(q)),eo!==l)))?(ev=er,er=en=e8("Date",new Date(en+"T"+es+"Z"),ek,eC)):(em=er,er=l),er===l&&((er=em,(en=eX())!==l&&(84===t.charCodeAt(em)?(ei="T",em++):(ei=l,0===ex&&eI(J)),ei!==l&&(es=(et=eA[ee=49*em+37])?(em=et.nextPos,et.result):(y=em,P=em,(x=e2())!==l&&(C=e2())!==l?(58===t.charCodeAt(em)?(I=":",em++):(I=l,0===ex&&eI(V)),I!==l&&(O=e2())!==l&&(D=e2())!==l?(58===t.charCodeAt(em)?(z=":",em++):(z=l,0===ex&&eI(V)),z!==l&&(j=e2())!==l&&(L=e2())!==l?((N=eG())===l&&(N=null),N!==l?(45===t.charCodeAt(em)?(H="-",em++):(H=l,0===ex&&eI(T)),H===l&&(43===t.charCodeAt(em)?(H="+",em++):(H=l,0===ex&&eI(R))),H!==l&&(G=e2())!==l&&(X=e2())!==l?(58===t.charCodeAt(em)?(Q=":",em++):(Q=l,0===ex&&eI(V)),Q!==l&&(Z=e2())!==l&&($=e2())!==l?P=x=[x,C,I,O,D,z,j,L,N,H,G,X,Q,Z,$]:(em=P,P=l)):(em=P,P=l)):(em=P,P=l)):(em=P,P=l)):(em=P,P=l)):(em=P,P=l),P!==l&&(ev=y,P=W(P)),y=P,eA[ee]={nextPos:em,result:y},y))!==l))?(ev=er,er=en=e8("Date",new Date(en+"T"+es),ek,eC)):(em=er,er=l)),eA[ea]={nextPos:em,result:er},er))===l&&(eE=(eg=eA[ed=49*em+23])?(em=eg.nextPos,eg.result):((eu=em,(ec=eB())===l&&(ec=eH()),ec!==l&&(101===t.charCodeAt(em)?(eh="e",em++):(eh=l,0===ex&&eI(E)),eh===l&&(69===t.charCodeAt(em)?(eh="E",em++):(eh=l,0===ex&&eI(M))),eh!==l&&(ef=eH())!==l))?(ev=eu,eu=ec=e8("Float",parseFloat(ec+"e"+ef),ek,eC)):(em=eu,eu=l),eu===l&&(eu=em,(ec=eB())!==l&&(ev=eu,ec=e8("Float",parseFloat(ec),ek,eC)),eu=ec),eA[ed]={nextPos:em,result:eu},eu))===l&&(eE=(ey=eA[ew=49*em+25])?(em=ey.nextPos,ey.result):(ep=em,(eb=eH())!==l&&(ev=ep,eb=e8("Integer",parseInt(eb,10),ek,eC)),ep=eb,eA[ew]={nextPos:em,result:ep},ep))===l&&(eE=(eD=eA[eO=49*em+27])?(em=eD.nextPos,eD.result):(eP=em,t.substr(em,4)===F?(eS=F,em+=4):(eS=l,0===ex&&eI(U)),eS!==l&&(ev=eP,eS=e8("Boolean",!0,ek,eC)),(eP=eS)===l&&(eP=em,t.substr(em,5)===Y?(eS=Y,em+=5):(eS=l,0===ex&&eI(K)),eS!==l&&(ev=eP,eS=e8("Boolean",!1,ek,eC)),eP=eS),eA[eO]={nextPos:em,result:eP},eP))===l&&(eE=function(){var e,r,n,i,s,o,a,u,c=49*em+28,h=eA[c];if(h)return em=h.nextPos,h.result;if(i=em,91===t.charCodeAt(em)?(s="[",em++):(s=l,0===ex&&eI(g)),s!==l){for(o=[],a=eJ();a!==l;)o.push(a),a=eJ();o!==l?(93===t.charCodeAt(em)?(a="]",em++):(a=l,0===ex&&eI(p)),a!==l?(ev=i,i=s=e8("Array",[],ek,eC)):(em=i,i=l)):(em=i,i=l)}else em=i,i=l;if(i===l&&((i=em,91===t.charCodeAt(em)?(s="[",em++):(s=l,0===ex&&eI(g)),s!==l&&((o=eV())===l&&(o=null),o!==l&&(93===t.charCodeAt(em)?(a="]",em++):(a=l,0===ex&&eI(p)),a!==l)))?(ev=i,i=s=e8("Array",(e=o)?[e]:[],ek,eC)):(em=i,i=l),i===l)){if(i=em,91===t.charCodeAt(em)?(s="[",em++):(s=l,0===ex&&eI(g)),s!==l){if(o=[],(a=eW())!==l)for(;a!==l;)o.push(a),a=eW();else o=l;o!==l&&(93===t.charCodeAt(em)?(a="]",em++):(a=l,0===ex&&eI(p)),a!==l)?(ev=i,i=s=e8("Array",o,ek,eC)):(em=i,i=l)}else em=i,i=l;if(i===l){if(i=em,91===t.charCodeAt(em)?(s="[",em++):(s=l,0===ex&&eI(g)),s!==l){if(o=[],(a=eW())!==l)for(;a!==l;)o.push(a),a=eW();else o=l;o!==l&&(a=eV())!==l&&(93===t.charCodeAt(em)?(u="]",em++):(u=l,0===ex&&eI(p)),u!==l)?(ev=i,r=o,n=a,i=s=e8("Array",r.concat(n),ek,eC)):(em=i,i=l)}else em=i,i=l}}return eA[c]={nextPos:em,result:i},i}())===l&&(eE=function(){var e,r,n,i,s,o,a=49*em+32,u=eA[a];if(u)return em=u.nextPos,u.result;if(e=em,123===t.charCodeAt(em)?(r="{",em++):(r=l,0===ex&&eI(_)),r!==l){for(n=[],i=eQ();i!==l;)n.push(i),i=eQ();if(n!==l){for(i=[],s=eq();s!==l;)i.push(s),s=eq();if(i!==l){for(s=[],o=eQ();o!==l;)s.push(o),o=eQ();s!==l&&(125===t.charCodeAt(em)?(o="}",em++):(o=l,0===ex&&eI(B)),o!==l)?(ev=e,e=r=e8("InlineTable",i,ek,eC)):(em=e,e=l)}else em=e,e=l}else em=e,e=l}else em=e,e=l;return eA[a]={nextPos:em,result:e},e}()),eA[eM]={nextPos:em,result:eE},eE)}function eU(){var e,r,n,i,s=49*em+15,o=eA[s];if(o)return em=o.nextPos,o.result;if(e=em,34===t.charCodeAt(em)?(r='"',em++):(r=l,0===ex&&eI(C)),r!==l){for(n=[],i=eK();i!==l;)n.push(i),i=eK();n!==l?(34===t.charCodeAt(em)?(i='"',em++):(i=l,0===ex&&eI(C)),i!==l?(ev=e,e=r=k(n)):(em=e,e=l)):(em=e,e=l)}else em=e,e=l;return eA[s]={nextPos:em,result:e},e}function eY(){var e,r,n,i,s=49*em+17,o=eA[s];if(o)return em=o.nextPos,o.result;if(e=em,39===t.charCodeAt(em)?(r="'",em++):(r=l,0===ex&&eI(I)),r!==l){for(n=[],i=eL();i!==l;)n.push(i),i=eL();n!==l?(39===t.charCodeAt(em)?(i="'",em++):(i=l,0===ex&&eI(I)),i!==l?(ev=e,e=r=k(n)):(em=e,e=l)):(em=e,e=l)}else em=e,e=l;return eA[s]={nextPos:em,result:e},e}function eK(){var e,r,n,i=49*em+18,s=eA[i];return s?(em=s.nextPos,s.result):((e=e9())===l&&(e=em,r=em,ex++,34===t.charCodeAt(em)?(n='"',em++):(n=l,0===ex&&eI(C)),ex--,n===l?r=f:(em=r,r=l),r!==l?(t.length>em?(n=t.charAt(em),em++):(n=l,0===ex&&eI(d)),n!==l?(ev=e,e=r=O(n)):(em=e,e=l)):(em=e,e=l)),eA[i]={nextPos:em,result:e},e)}function eL(){var e,r,n,i=49*em+19,s=eA[i];return s?(em=s.nextPos,s.result):(e=em,r=em,ex++,39===t.charCodeAt(em)?(n="'",em++):(n=l,0===ex&&eI(I)),ex--,n===l?r=f:(em=r,r=l),r!==l?(t.length>em?(n=t.charAt(em),em++):(n=l,0===ex&&eI(d)),n!==l?(ev=e,e=r=O(n)):(em=e,e=l)):(em=e,e=l),eA[i]={nextPos:em,result:e},e)}function eN(){var e,r,n,i=49*em+20,s=eA[i];return s?(em=s.nextPos,s.result):((e=e9())===l&&(e=function(){var e,r,n,i,s=49*em+21,o=eA[s];if(o)return em=o.nextPos,o.result;if(e=em,92===t.charCodeAt(em)?(r="\\",em++):(r=l,0===ex&&eI(D)),r!==l){if(eZ()!==l){for(n=[],i=e$();i!==l;)n.push(i),i=e$();n!==l?(ev=e,e=r=""):(em=e,e=l)}else em=e,e=l}else em=e,e=l;return eA[s]={nextPos:em,result:e},e}())===l&&((e=em,r=em,ex++,'"""'===t.substr(em,3)?(n='"""',em+=3):(n=l,0===ex&&eI(A)),ex--,n===l?r=f:(em=r,r=l),r!==l&&(t.length>em?(n=t.charAt(em),em++):(n=l,0===ex&&eI(d)),n!==l))?(ev=e,e=r=n):(em=e,e=l)),eA[i]={nextPos:em,result:e},e)}function e_(){var e,r,n,i=49*em+22,s=eA[i];return s?(em=s.nextPos,s.result):(e=em,r=em,ex++,"'''"===t.substr(em,3)?(n="'''",em+=3):(n=l,0===ex&&eI(S)),ex--,n===l?r=f:(em=r,r=l),r!==l?(t.length>em?(n=t.charAt(em),em++):(n=l,0===ex&&eI(d)),n!==l?(ev=e,e=r=O(n)):(em=e,e=l)):(em=e,e=l),eA[i]={nextPos:em,result:e},e)}function eB(){var e,r,n,i,s,o,a=49*em+24,u=eA[a];return u?(em=u.nextPos,u.result):(e=em,43===t.charCodeAt(em)?(r="+",em++):(r=l,0===ex&&eI(R)),r===l&&(r=null),r!==l?(n=em,(i=e4())!==l?(46===t.charCodeAt(em)?(s=".",em++):(s=l,0===ex&&eI(w)),s!==l&&(o=e4())!==l?n=i=[i,s,o]:(em=n,n=l)):(em=n,n=l),n!==l?(ev=e,e=r=z(n)):(em=e,e=l)):(em=e,e=l),e===l&&(e=em,45===t.charCodeAt(em)?(r="-",em++):(r=l,0===ex&&eI(T)),r!==l?(n=em,(i=e4())!==l?(46===t.charCodeAt(em)?(s=".",em++):(s=l,0===ex&&eI(w)),s!==l&&(o=e4())!==l?n=i=[i,s,o]:(em=n,n=l)):(em=n,n=l),n!==l?(ev=e,e=r=j(n)):(em=e,e=l)):(em=e,e=l)),eA[a]={nextPos:em,result:e},e)}function eH(){var e,r,n,i,s,o=49*em+26,a=eA[o];if(a)return em=a.nextPos,a.result;if(e=em,43===t.charCodeAt(em)?(r="+",em++):(r=l,0===ex&&eI(R)),r===l&&(r=null),r!==l){if(n=[],(i=e2())!==l)for(;i!==l;)n.push(i),i=e2();else n=l;n!==l?(i=em,ex++,46===t.charCodeAt(em)?(s=".",em++):(s=l,0===ex&&eI(w)),ex--,s===l?i=f:(em=i,i=l),i!==l?(ev=e,e=r=z(n)):(em=e,e=l)):(em=e,e=l)}else em=e,e=l;if(e===l){if(e=em,45===t.charCodeAt(em)?(r="-",em++):(r=l,0===ex&&eI(T)),r!==l){if(n=[],(i=e2())!==l)for(;i!==l;)n.push(i),i=e2();else n=l;n!==l?(i=em,ex++,46===t.charCodeAt(em)?(s=".",em++):(s=l,0===ex&&eI(w)),ex--,s===l?i=f:(em=i,i=l),i!==l?(ev=e,e=r=j(n)):(em=e,e=l)):(em=e,e=l)}else em=e,e=l}return eA[o]={nextPos:em,result:e},e}function eV(){var e,t,r,n,i,s=49*em+29,o=eA[s];if(o)return em=o.nextPos,o.result;for(e=em,t=[],r=eJ();r!==l;)t.push(r),r=eJ();if(t!==l){if((r=eF())!==l){for(n=[],i=eJ();i!==l;)n.push(i),i=eJ();n!==l?(ev=e,e=t=L(r)):(em=e,e=l)}else em=e,e=l}else em=e,e=l;return eA[s]={nextPos:em,result:e},e}function eW(){var e,r,n,i,s,o,a,u=49*em+30,c=eA[u];if(c)return em=c.nextPos,c.result;for(e=em,r=[],n=eJ();n!==l;)r.push(n),n=eJ();if(r!==l){if((n=eF())!==l){for(i=[],s=eJ();s!==l;)i.push(s),s=eJ();if(i!==l){if(44===t.charCodeAt(em)?(s=",",em++):(s=l,0===ex&&eI(N)),s!==l){for(o=[],a=eJ();a!==l;)o.push(a),a=eJ();o!==l?(ev=e,e=r=L(n)):(em=e,e=l)}else em=e,e=l}else em=e,e=l}else em=e,e=l}else em=e,e=l;return eA[u]={nextPos:em,result:e},e}function eJ(){var e,t=49*em+31,r=eA[t];return r?(em=r.nextPos,r.result):((e=eQ())===l&&(e=eZ())===l&&(e=eE()),eA[t]={nextPos:em,result:e},e)}function eq(){var e,r,n,i,s,o,a,u,c,h,f,d=49*em+33,g=eA[d];if(g)return em=g.nextPos,g.result;for(e=em,r=[],n=eQ();n!==l;)r.push(n),n=eQ();if(r!==l){if((n=eT())!==l){for(i=[],s=eQ();s!==l;)i.push(s),s=eQ();if(i!==l){if(61===t.charCodeAt(em)?(s="=",em++):(s=l,0===ex&&eI(y)),s!==l){for(o=[],a=eQ();a!==l;)o.push(a),a=eQ();if(o!==l){if((a=eF())!==l){for(u=[],c=eQ();c!==l;)u.push(c),c=eQ();if(u!==l){if(44===t.charCodeAt(em)?(c=",",em++):(c=l,0===ex&&eI(N)),c!==l){for(h=[],f=eQ();f!==l;)h.push(f),f=eQ();h!==l?(ev=e,e=r=H(n,a)):(em=e,e=l)}else em=e,e=l}else em=e,e=l}else em=e,e=l}else em=e,e=l}else em=e,e=l}else em=e,e=l}else em=e,e=l}else em=e,e=l;if(e===l){for(e=em,r=[],n=eQ();n!==l;)r.push(n),n=eQ();if(r!==l){if((n=eT())!==l){for(i=[],s=eQ();s!==l;)i.push(s),s=eQ();if(i!==l){if(61===t.charCodeAt(em)?(s="=",em++):(s=l,0===ex&&eI(y)),s!==l){for(o=[],a=eQ();a!==l;)o.push(a),a=eQ();o!==l&&(a=eF())!==l?(ev=e,e=r=H(n,a)):(em=e,e=l)}else em=e,e=l}else em=e,e=l}else em=e,e=l}else em=e,e=l}return eA[d]={nextPos:em,result:e},e}function eG(){var e,r,n,i=49*em+34,s=eA[i];return s?(em=s.nextPos,s.result):((e=em,46===t.charCodeAt(em)?(r=".",em++):(r=l,0===ex&&eI(w)),r!==l&&(n=e4())!==l)?(ev=e,e=r="."+n):(em=e,e=l),eA[i]={nextPos:em,result:e},e)}function eX(){var e,r,n,i,s,o,a,u,c,h,f,d,g=49*em+35,p=eA[g];return p?(em=p.nextPos,p.result):(e=em,r=em,(n=e2())!==l&&(i=e2())!==l&&(s=e2())!==l&&(o=e2())!==l?(45===t.charCodeAt(em)?(a="-",em++):(a=l,0===ex&&eI(T)),a!==l&&(u=e2())!==l&&(c=e2())!==l?(45===t.charCodeAt(em)?(h="-",em++):(h=l,0===ex&&eI(T)),h!==l&&(f=e2())!==l&&(d=e2())!==l?r=n=[n,i,s,o,a,u,c,h,f,d]:(em=r,r=l)):(em=r,r=l)):(em=r,r=l),r!==l&&(ev=e,r=r.join("")),e=r,eA[g]={nextPos:em,result:e},e)}function eQ(){var e,r=49*em+39,n=eA[r];return n?(em=n.nextPos,n.result):(G.test(t.charAt(em))?(e=t.charAt(em),em++):(e=l,0===ex&&eI(X)),eA[r]={nextPos:em,result:e},e)}function eZ(){var e,r,n,i=49*em+40,s=eA[i];return s?(em=s.nextPos,s.result):(10===t.charCodeAt(em)?(e="\n",em++):(e=l,0===ex&&eI(Q)),e===l&&(e=em,13===t.charCodeAt(em)?(r="\r",em++):(r=l,0===ex&&eI(Z)),r!==l?(10===t.charCodeAt(em)?(n="\n",em++):(n=l,0===ex&&eI(Q)),n!==l?e=r=[r,n]:(em=e,e=l)):(em=e,e=l)),eA[i]={nextPos:em,result:e},e)}function e$(){var e,t=49*em+41,r=eA[t];return r?(em=r.nextPos,r.result):((e=eZ())===l&&(e=eQ()),eA[t]={nextPos:em,result:e},e)}function e0(){var e,r,n=49*em+42,i=eA[n];return i?(em=i.nextPos,i.result):(e=em,ex++,t.length>em?(r=t.charAt(em),em++):(r=l,0===ex&&eI(d)),ex--,r===l?e=f:(em=e,e=l),eA[n]={nextPos:em,result:e},e)}function e1(){var e,r=49*em+43,n=eA[r];return n?(em=n.nextPos,n.result):($.test(t.charAt(em))?(e=t.charAt(em),em++):(e=l,0===ex&&eI(ee)),eA[r]={nextPos:em,result:e},e)}function e2(){var e,r,n=49*em+44,i=eA[n];return i?(em=i.nextPos,i.result):(et.test(t.charAt(em))?(e=t.charAt(em),em++):(e=l,0===ex&&eI(er)),e===l&&(e=em,95===t.charCodeAt(em)?(r="_",em++):(r=l,0===ex&&eI(en)),r!==l&&(ev=e,r=""),e=r),eA[n]={nextPos:em,result:e},e)}function e5(){var e,r=49*em+45,n=eA[r];return n?(em=n.nextPos,n.result):(ei.test(t.charAt(em))?(e=t.charAt(em),em++):(e=l,0===ex&&eI(es)),eA[r]={nextPos:em,result:e},e)}function e4(){var e,t,r,n=49*em+46,i=eA[n];if(i)return em=i.nextPos,i.result;if(e=em,t=[],(r=e2())!==l)for(;r!==l;)t.push(r),r=e2();else t=l;return t!==l&&(ev=e,t=t.join("")),e=t,eA[n]={nextPos:em,result:e},e}function e9(){var e,r,n,i,s,o,a,u,c,h,f,d,g,p,m,v=49*em+47,b=eA[v];return b?(em=b.nextPos,b.result):(p=em,'\\"'===t.substr(em,2)?(m='\\"',em+=2):(m=l,0===ex&&eI(eo)),m!==l&&(ev=p,m='"'),(p=m)===l&&(p=em,"\\\\"===t.substr(em,2)?(m="\\\\",em+=2):(m=l,0===ex&&eI(ea)),m!==l&&(ev=p,m="\\"),(p=m)===l&&(p=em,"\\b"===t.substr(em,2)?(m="\\b",em+=2):(m=l,0===ex&&eI(el)),m!==l&&(ev=p,m="\b"),(p=m)===l&&(p=em,"\\t"===t.substr(em,2)?(m="\\t",em+=2):(m=l,0===ex&&eI(eu)),m!==l&&(ev=p,m="	"),(p=m)===l&&(p=em,"\\n"===t.substr(em,2)?(m="\\n",em+=2):(m=l,0===ex&&eI(ec)),m!==l&&(ev=p,m="\n"),(p=m)===l&&(p=em,"\\f"===t.substr(em,2)?(m="\\f",em+=2):(m=l,0===ex&&eI(eh)),m!==l&&(ev=p,m="\f"),(p=m)===l&&(p=em,"\\r"===t.substr(em,2)?(m="\\r",em+=2):(m=l,0===ex&&eI(ef)),m!==l&&(ev=p,m="\r"),(p=m)===l&&(p=(g=eA[d=49*em+48])?(em=g.nextPos,g.result):(e=em,"\\U"===t.substr(em,2)?(r="\\U",em+=2):(r=l,0===ex&&eI(ed)),r!==l?(n=em,(i=e1())!==l&&(s=e1())!==l&&(o=e1())!==l&&(a=e1())!==l&&(u=e1())!==l&&(c=e1())!==l&&(h=e1())!==l&&(f=e1())!==l?n=i=[i,s,o,a,u,c,h,f]:(em=n,n=l),n!==l?(ev=e,e=r=eg(n)):(em=e,e=l)):(em=e,e=l),e===l&&(e=em,"\\u"===t.substr(em,2)?(r="\\u",em+=2):(r=l,0===ex&&eI(ep)),r!==l?(n=em,(i=e1())!==l&&(s=e1())!==l&&(o=e1())!==l&&(a=e1())!==l?n=i=[i,s,o,a]:(em=n,n=l),n!==l?(ev=e,e=r=eg(n)):(em=e,e=l)):(em=e,e=l)),eA[d]={nextPos:em,result:e},e)))))))),eA[v]={nextPos:em,result:p},p)}var e3=[];function e6(e){e3.push(e)}function e8(e,t,r,n,i){var s={type:e,value:t,line:r(),column:n()};return i&&(s.key=i),s}if((o=c())!==l&&em===t.length)return o;throw o!==l&&em<t.length&&eI({type:"end",description:"end of input"}),r=eP,i=eS(n=ey),s=n<t.length?t.charAt(n):null,null!==r&&function(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(r),new e(function(e,t){var r,n=Array(e.length);for(r=0;r<e.length;r++)n[r]=e[r].description;return"Expected "+(e.length>1?n.slice(0,-1).join(", ")+" or "+n[e.length-1]:n[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}(t)+'"':"end of input")+" found."}(r,s),r,s,n,i.line,i.column)}}}()},44920:function(e,t,r){"use strict";r.d(t,{MG:function(){return a}});var n=r(75271),i=r(30967),s=r(78818);let o="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;function a(e){return function(e){let t=n.useReducer(()=>({}),{})[1],r={...e,onChange:(r,n)=>{var s;n?(0,i.flushSync)(t):t(),null==(s=e.onChange)||s.call(e,r,n)}},[a]=n.useState(()=>new s.dM(r));return a.setOptions(r),n.useEffect(()=>a._didMount(),[]),o(()=>a._willUpdate()),a}({observeElementRect:s.nr,observeElementOffset:s.ND,scrollToFn:s.sA,...e})}},78818:function(e,t,r){"use strict";r.d(t,{dM:function(){return v},MK:function(){return c},sA:function(){return m},ND:function(){return g},nr:function(){return h}});var n=r(49500);function i(e,t,r){let i,s=r.initialDeps??[];return()=>{var o,a,l,u;let c,h;r.key&&(null==(o=r.debug)?void 0:o.call(r))&&(c=Date.now());let f=e();if(!(f.length!==s.length||f.some((e,t)=>s[t]!==e)))return i;if(s=f,r.key&&(null==(a=r.debug)?void 0:a.call(r))&&(h=Date.now()),i=t(...f),r.key&&(null==(l=r.debug)?void 0:l.call(r))){let e=Math.round((Date.now()-c)*100)/100,t=Math.round((Date.now()-h)*100)/100,i=t/16,s=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};n.info(`%c ${s(t,5)} /${s(e,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*i,120))}deg 100% 31%);`,null==r?void 0:r.key)}return null==(u=null==r?void 0:r.onChange)||u.call(r,i),i}}function s(e,t){if(void 0!==e)return e;throw Error(`Unexpected undefined${t?`: ${t}`:""}`)}let o=(e,t)=>1>Math.abs(e-t),a=(e,t,r)=>{let n;return function(...i){e.clearTimeout(n),n=e.setTimeout(()=>t.apply(this,i),r)}};var l=r(49500);let u=e=>e,c=e=>{let t=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let e=t;e<=r;e++)n.push(e);return n},h=(e,t)=>{let r=e.scrollElement;if(!r)return;let n=e.targetWindow;if(!n)return;let i=e=>{let{width:r,height:n}=e;t({width:Math.round(r),height:Math.round(n)})};if(i(r.getBoundingClientRect()),!n.ResizeObserver)return()=>{};let s=new n.ResizeObserver(e=>{let t=e[0];if(null==t?void 0:t.borderBoxSize){let e=t.borderBoxSize[0];if(e){i({width:e.inlineSize,height:e.blockSize});return}}i(r.getBoundingClientRect())});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},f={passive:!0},d="undefined"==typeof window||"onscrollend"in window,g=(e,t)=>{let r=e.scrollElement;if(!r)return;let n=e.targetWindow;if(!n)return;let i=0,s=d?()=>void 0:a(n,()=>{t(i,!1)},e.options.isScrollingResetDelay),o=n=>()=>{let{horizontal:o,isRtl:a}=e.options;i=o?r.scrollLeft*(a&&-1||1):r.scrollTop,s(),t(i,n)},l=o(!0),u=o(!1);return u(),r.addEventListener("scroll",l,f),r.addEventListener("scrollend",u,f),()=>{r.removeEventListener("scroll",l),r.removeEventListener("scrollend",u)}},p=(e,t,r)=>{if(null==t?void 0:t.borderBoxSize){let e=t.borderBoxSize[0];if(e)return Math.round(e[r.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[r.options.horizontal?"width":"height"])},m=(e,{adjustments:t=0,behavior:r},n)=>{var i,s;null==(s=null==(i=n.scrollElement)?void 0:i.scrollTo)||s.call(i,{[n.options.horizontal?"left":"top"]:e+t,behavior:r})};class v{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null,t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver(e=>{e.forEach(e=>{this._measureElement(e.target,e)})}):null);return{disconnect:()=>{var r;null==(r=t())||r.disconnect(),e=null},observe:e=>{var r;return null==(r=t())?void 0:r.observe(e,{box:"border-box"})},unobserve:e=>{var r;return null==(r=t())?void 0:r.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,r])=>{void 0===r&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:u,rangeExtractor:c,onChange:()=>{},measureElement:p,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...e}},this.notify=e=>{var t,r;null==(r=(t=this.options).onChange)||r.call(t,this,e)},this.maybeNotify=i(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;let t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t){this.maybeNotify();return}this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{let r=new Map,n=new Map;for(let i=t-1;i>=0;i--){let t=e[i];if(r.has(t.lane))continue;let s=n.get(t.lane);if(null==s||t.end>s.end?n.set(t.lane,t):t.end<s.end&&r.set(t.lane,!0),r.size===this.options.lanes)break}return n.size===this.options.lanes?Array.from(n.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurementOptions=i(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,r,n,i)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:r,getItemKey:n,enabled:i}),{key:!1}),this.getMeasurements=i(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:r,getItemKey:n,enabled:i},s)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}));let o=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];let a=this.measurementsCache.slice(0,o);for(let i=o;i<e;i++){let e=n(i),o=1===this.options.lanes?a[i-1]:this.getFurthestMeasurement(a,i),l=o?o.end+this.options.gap:t+r,u=s.get(e),c="number"==typeof u?u:this.options.estimateSize(i),h=l+c,f=o?o.lane:i%this.options.lanes;a[i]={index:i,start:l,size:c,end:h,key:e,lane:f}}return this.measurementsCache=a,a},{key:!1,debug:()=>this.options.debug}),this.calculateRange=i(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(e,t,r)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:r}){let n=e.length-1,i=b(0,n,t=>e[t].start,r),s=i;for(;s<n&&e[s].end<r+t;)s++;return{startIndex:i,endIndex:s}}({measurements:e,outerSize:t,scrollOffset:r}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=i(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(e,t,r,n)=>null===t?[]:e({startIndex:t.startIndex,endIndex:t.endIndex,overscan:r,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{let t=this.options.indexAttribute,r=e.getAttribute(t);return r?parseInt(r,10):(l.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{let r=this.indexFromElement(e),n=this.measurementsCache[r];if(!n)return;let i=n.key,s=this.elementsCache.get(i);s!==e&&(s&&this.observer.unobserve(s),this.observer.observe(e),this.elementsCache.set(i,e)),e.isConnected&&this.resizeItem(r,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{let r=this.measurementsCache[e];if(!r)return;let n=t-(this.itemSizeCache.get(r.key)??r.size);0!==n&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(r,n,this):r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=n,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,t)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))});return}this._measureElement(e,void 0)},this.getVirtualItems=i(()=>[this.getIndexes(),this.getMeasurements()],(e,t)=>{let r=[];for(let n=0,i=e.length;n<i;n++){let i=t[e[n]];r.push(i)}return r},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{let t=this.getMeasurements();if(0!==t.length)return s(t[b(0,t.length-1,e=>s(t[e]).start,e)])},this.getOffsetForAlignment=(e,t)=>{let r=this.getSize(),n=this.getScrollOffset();"auto"===t&&(t=e<=n?"start":e>=n+r?"end":"start"),"start"===t||("end"===t?e-=r:"center"===t&&(e-=r/2));let i=this.options.horizontal?"scrollWidth":"scrollHeight";return Math.max(Math.min((this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-r,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));let r=this.measurementsCache[e];if(!r)return;let n=this.getSize(),i=this.getScrollOffset();if("auto"===t){if(r.end>=i+n-this.options.scrollPaddingEnd)t="end";else{if(!(r.start<=i+this.options.scrollPaddingStart))return[i,t];t="start"}}let s="end"===t?r.end+this.options.scrollPaddingEnd:r.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(s,t),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{null!==this.scrollToIndexTimeoutId&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:t="start",behavior:r}={})=>{this.cancelScrollToIndex(),"smooth"===r&&this.isDynamicMode()&&l.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:r})},this.scrollToIndex=(e,{align:t="auto",behavior:r}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),"smooth"===r&&this.isDynamicMode()&&l.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");let n=this.getOffsetForIndex(e,t);if(!n)return;let[i,a]=n;this._scrollToOffset(i,{adjustments:void 0,behavior:r}),"smooth"!==r&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(e))){let[t]=s(this.getOffsetForIndex(e,a));o(t,this.getScrollOffset())||this.scrollToIndex(e,{align:a,behavior:r})}else this.scrollToIndex(e,{align:a,behavior:r})}))},this.scrollBy=(e,{behavior:t}={})=>{this.cancelScrollToIndex(),"smooth"===t&&this.isDynamicMode()&&l.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;let t=this.getMeasurements();return Math.max((0===t.length?this.options.paddingStart:1===this.options.lanes?(null==(e=t[t.length-1])?void 0:e.end)??0:Math.max(...t.slice(-this.options.lanes).map(e=>e.end)))-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:r})=>{this.options.scrollToFn(e,{behavior:r,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}let b=(e,t,r,n)=>{for(;e<=t;){let i=(e+t)/2|0,s=r(i);if(s<n)e=i+1;else{if(!(s>n))return i;t=i-1}}return e>0?e-1:0}},20411:function(e,t,r){"use strict";r.d(t,{c:function(){return P}});var n=r(58393),i=r(44921),s=r(70980),o=r(75271),a=r(90223),l=r(49695),u=r(53920),c=r(30171),h=r(24764),f=function(){function e(t){var r=this;(0,a._)(this,e),this.hooks=(0,h.p)({dragSource:function(e,t){r.clearDragSource(),r.dragSourceOptions=t||null,(0,c.d)(e)?r.dragSourceRef=e:r.dragSourceNode=e,r.reconnectDragSource()},dragPreview:function(e,t){r.clearDragPreview(),r.dragPreviewOptions=t||null,(0,c.d)(e)?r.dragPreviewRef=e:r.dragPreviewNode=e,r.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}return(0,l._)(e,[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"reconnect",value:function(){var e=this.reconnectDragSource();this.reconnectDragPreview(e)}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e),t}},{key:"reconnectDragPreview",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!(0,u.w)(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!(0,u.w)(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}]),e}(),d=r(98234),g=r(54965),p=!1,m=!1,v=function(){function e(t){(0,a._)(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}return(0,l._)(e,[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){(0,n.k)(!p,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return p=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{p=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;(0,n.k)(!m,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return m=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{m=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}(),b=r(5093),w=r(18934),y=function(){function e(t,r,n){(0,a._)(this,e),this.spec=t,this.monitor=r,this.connector=n}return(0,l._)(e,[{key:"beginDrag",value:function(){var e=this.spec,t=this.monitor,r=null;return null!=(r="object"==typeof e.item?e.item:"function"==typeof e.item?e.item(t):{})?r:null}},{key:"canDrag",value:function(){var e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}},{key:"isDragging",value:function(e,t){var r=this.spec,n=this.monitor,i=r.isDragging;return i?i(n):t===e.getSourceId()}},{key:"endDrag",value:function(){var e=this.spec,t=this.monitor,r=this.connector,n=e.end;n&&n(t.getItem(),t),r.reconnect()}}]),e}();function P(e,t){var r,a,l,u,c,h,p,m,P=(0,s.w)(e,t);(0,n.k)(!P.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var x=(r=(0,d.N)(),(0,o.useMemo)(function(){return new v(r)},[r])),A=(a=P.options,l=P.previewOptions,u=(0,d.N)(),c=(0,o.useMemo)(function(){return new f(u.getBackend())},[u]),(0,g.L)(function(){return c.dragSourceOptions=a||null,c.reconnect(),function(){return c.disconnectDragSource()}},[c,a]),(0,g.L)(function(){return c.dragPreviewOptions=l||null,c.reconnect(),function(){return c.disconnectDragPreview()}},[c,l]),c);return h=(0,d.N)(),p=(0,o.useMemo)(function(){return new y(P,x,A)},[x,A]),(0,o.useEffect)(function(){p.spec=P},[P]),m=(0,o.useMemo)(function(){var e=P.type;return(0,n.k)(null!=e,"spec.type must be defined"),e},[P]),(0,g.L)(function(){if(null!=m){var e=(0,b._)((0,w.w)(m,p,h),2),t=e[0],r=e[1];return x.receiveHandlerId(t),A.receiveHandlerId(t),r}},[h,x,A,p,m]),[(0,i.J)(P.collect,x,A),(0,o.useMemo)(function(){return A.hooks.dragSource()},[A]),(0,o.useMemo)(function(){return A.hooks.dragPreview()},[A])]}},12679:function(e,t,r){"use strict";r.d(t,{f:function(){return a}});var n=r(5093),i=r(75271),s=r(95752),o=r(98234);function a(e){var t=(0,o.N)().getMonitor(),r=(0,n._)((0,s.r)(t,e),2),a=r[0],l=r[1];return(0,i.useEffect)(function(){return t.subscribeToOffsetChange(l)}),(0,i.useEffect)(function(){return t.subscribeToStateChange(l)}),a}},98314:function(e,t,r){"use strict";let n;function i(){return n||((n=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),n}r.d(t,{r:function(){return i}})}}]);
//# sourceMappingURL=130-ba577121fc0a3b99.js.map